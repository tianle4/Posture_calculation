ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/main.c"
  18              		.section	.text.MPU6050_read_data,"ax",%progbits
  19              		.align	1
  20              		.global	MPU6050_read_data
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	MPU6050_read_data:
  26              	.LFB67:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****   ******************************************************************************
   4:Core/Src/main.c ****   * @file           : main.c
   5:Core/Src/main.c ****   * @brief          : Main program body
   6:Core/Src/main.c ****   ******************************************************************************
   7:Core/Src/main.c ****   * @attention
   8:Core/Src/main.c ****   *
   9:Core/Src/main.c ****   * Copyright (c) 2025 STMicroelectronics.
  10:Core/Src/main.c ****   * All rights reserved.
  11:Core/Src/main.c ****   *
  12:Core/Src/main.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****   * in the root directory of this software component.
  14:Core/Src/main.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****   *
  16:Core/Src/main.c ****   ******************************************************************************
  17:Core/Src/main.c ****   */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "i2c.h"
  22:Core/Src/main.c **** #include "gpio.h"
  23:Core/Src/main.c **** 
  24:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  25:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  26:Core/Src/main.c **** #include "MPU6050.h"
  27:Core/Src/main.c **** #include "bsp_dwt.h"
  28:Core/Src/main.c **** #include <math.h>
  29:Core/Src/main.c **** /* USER CODE END Includes */
  30:Core/Src/main.c **** 
  31:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  32:Core/Src/main.c **** /* USER CODE BEGIN PTD */
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 2


  33:Core/Src/main.c **** 
  34:Core/Src/main.c **** typedef struct{
  35:Core/Src/main.c ****   int16_t accel_x;
  36:Core/Src/main.c ****   int16_t accel_y;
  37:Core/Src/main.c ****   int16_t accel_z;
  38:Core/Src/main.c ****   int16_t gyro_x;
  39:Core/Src/main.c ****   int16_t gyro_y;
  40:Core/Src/main.c ****   int16_t gyro_z;
  41:Core/Src/main.c ****   int16_t velocity_x;
  42:Core/Src/main.c ****   int16_t velocity_y;
  43:Core/Src/main.c ****   int16_t velocity_z; 
  44:Core/Src/main.c ****   int16_t temperature;
  45:Core/Src/main.c **** }MPU6050;
  46:Core/Src/main.c **** 
  47:Core/Src/main.c **** typedef struct {
  48:Core/Src/main.c ****   float angle;      // 滤波后的角度
  49:Core/Src/main.c ****   float bias;       // 陀螺仪零漂
  50:Core/Src/main.c ****   float P[2][2];    // 估计误差协方差
  51:Core/Src/main.c ****   float Q_angle;    // 角度过程噪声协方差
  52:Core/Src/main.c ****   float Q_bias;     // 陀螺仪偏置过程噪声协方差
  53:Core/Src/main.c ****   float R_measure;  // 测量噪声协方差
  54:Core/Src/main.c **** } KalmanFilter;
  55:Core/Src/main.c **** 
  56:Core/Src/main.c **** typedef struct {
  57:Core/Src/main.c ****   float w,x,y,z;
  58:Core/Src/main.c **** }Quaternion;
  59:Core/Src/main.c **** 
  60:Core/Src/main.c **** /* USER CODE END PTD */
  61:Core/Src/main.c **** 
  62:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  63:Core/Src/main.c **** /* USER CODE BEGIN PD */
  64:Core/Src/main.c **** #define M_PI 3.1415926
  65:Core/Src/main.c **** /* USER CODE END PD */
  66:Core/Src/main.c **** 
  67:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  68:Core/Src/main.c **** /* USER CODE BEGIN PM */
  69:Core/Src/main.c **** 
  70:Core/Src/main.c **** /* USER CODE END PM */
  71:Core/Src/main.c **** 
  72:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  73:Core/Src/main.c **** 
  74:Core/Src/main.c **** /* USER CODE BEGIN PV */
  75:Core/Src/main.c **** MPU6050 MPU6050_Data;
  76:Core/Src/main.c **** 
  77:Core/Src/main.c **** KalmanFilter rollKalman;
  78:Core/Src/main.c **** KalmanFilter yawKalman;
  79:Core/Src/main.c **** KalmanFilter pitchKalman;
  80:Core/Src/main.c **** 
  81:Core/Src/main.c **** Quaternion q;
  82:Core/Src/main.c **** 
  83:Core/Src/main.c **** uint32_t DWT_CNT;
  84:Core/Src/main.c **** float dt;
  85:Core/Src/main.c **** 
  86:Core/Src/main.c **** float roll, pitch, yaw;
  87:Core/Src/main.c **** float raw_roll, raw_pitch, raw_yaw;
  88:Core/Src/main.c **** float filtered_roll, filtered_pitch, filtered_yaw;
  89:Core/Src/main.c **** 
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 3


  90:Core/Src/main.c **** 
  91:Core/Src/main.c **** /* USER CODE END PV */
  92:Core/Src/main.c **** 
  93:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  94:Core/Src/main.c **** void SystemClock_Config(void);
  95:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  96:Core/Src/main.c **** 
  97:Core/Src/main.c **** /* USER CODE END PFP */
  98:Core/Src/main.c **** 
  99:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
 100:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 101:Core/Src/main.c **** 
 102:Core/Src/main.c **** /* USER CODE END 0 */
 103:Core/Src/main.c **** 
 104:Core/Src/main.c **** /**
 105:Core/Src/main.c ****   * @brief  The application entry point.
 106:Core/Src/main.c ****   * @retval int
 107:Core/Src/main.c ****   */
 108:Core/Src/main.c **** int main(void)
 109:Core/Src/main.c **** {
 110:Core/Src/main.c **** 
 111:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 112:Core/Src/main.c **** 
 113:Core/Src/main.c ****   /* USER CODE END 1 */
 114:Core/Src/main.c **** 
 115:Core/Src/main.c ****   /* MCU Configuration--------------------------------------------------------*/
 116:Core/Src/main.c **** 
 117:Core/Src/main.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 118:Core/Src/main.c ****   HAL_Init();
 119:Core/Src/main.c **** 
 120:Core/Src/main.c ****   /* USER CODE BEGIN Init */
 121:Core/Src/main.c **** 
 122:Core/Src/main.c ****   /* USER CODE END Init */
 123:Core/Src/main.c **** 
 124:Core/Src/main.c ****   /* Configure the system clock */
 125:Core/Src/main.c ****   SystemClock_Config();
 126:Core/Src/main.c **** 
 127:Core/Src/main.c ****   /* USER CODE BEGIN SysInit */
 128:Core/Src/main.c **** 
 129:Core/Src/main.c ****   /* USER CODE END SysInit */
 130:Core/Src/main.c **** 
 131:Core/Src/main.c ****   /* Initialize all configured peripherals */
 132:Core/Src/main.c ****   MX_GPIO_Init();
 133:Core/Src/main.c ****   MX_I2C1_Init();
 134:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 135:Core/Src/main.c **** 
 136:Core/Src/main.c ****   DWT_Init(72);
 137:Core/Src/main.c **** 
 138:Core/Src/main.c ****   void MPU6050_Init(void);
 139:Core/Src/main.c ****   void MPU6050_read_data(void);
 140:Core/Src/main.c **** 
 141:Core/Src/main.c ****   void InitQuaternion(Quaternion *q);
 142:Core/Src/main.c ****   Quaternion multiplyQuaternions(const Quaternion *q1, const Quaternion *q2);
 143:Core/Src/main.c ****   void updateQuaternion(Quaternion *q, int16_t gx, int16_t gy, int16_t gz, float dt);
 144:Core/Src/main.c ****   void calculateAngles(Quaternion *q, float *roll, float *pitch, float *yaw);
 145:Core/Src/main.c **** 
 146:Core/Src/main.c ****   void kalmanInit(KalmanFilter *filter, float Q_angle, float Q_bias, float R_measure);
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 4


 147:Core/Src/main.c ****   kalmanInit(&rollKalman, 0.001f, 0.003f, 0.03f);
 148:Core/Src/main.c ****   kalmanInit(&pitchKalman, 0.001f, 0.003f, 0.03f);
 149:Core/Src/main.c ****   kalmanInit(&yawKalman, 0.001f, 0.003f, 0.03f);
 150:Core/Src/main.c ****   float kalmanUpdate(KalmanFilter *filter, float newAngle, float newRate, float dt);
 151:Core/Src/main.c ****   void calculateAccelAngles(float *accel_roll, float *accel_pitch); 
 152:Core/Src/main.c ****   
 153:Core/Src/main.c ****   q.w = 1.0f;
 154:Core/Src/main.c ****   q.x = 0.0f;
 155:Core/Src/main.c ****   q.y = 0.0f;
 156:Core/Src/main.c ****   q.z = 0.0f;
 157:Core/Src/main.c ****   /* USER CODE END 2 */
 158:Core/Src/main.c **** 
 159:Core/Src/main.c ****   /* Infinite loop */
 160:Core/Src/main.c ****   /* USER CODE BEGIN WHILE */
 161:Core/Src/main.c ****   while (1)
 162:Core/Src/main.c ****   {
 163:Core/Src/main.c ****     dt = DWT_GetDeltaT(&DWT_CNT);
 164:Core/Src/main.c ****     MPU6050_read_data();
 165:Core/Src/main.c ****     
 166:Core/Src/main.c ****     updateQuaternion(&q,MPU6050_Data.gyro_x,MPU6050_Data.gyro_y,MPU6050_Data.gyro_z,dt);
 167:Core/Src/main.c ****     // calculateAngles(&q,&roll,&pitch,&yaw);
 168:Core/Src/main.c **** 
 169:Core/Src/main.c ****     // 计算加速度计角度
 170:Core/Src/main.c ****     float accel_roll, accel_pitch;
 171:Core/Src/main.c ****     calculateAccelAngles(&accel_roll, &accel_pitch);
 172:Core/Src/main.c **** 
 173:Core/Src/main.c ****     // 将陀螺仪原始数据转换为角速度(°/s)
 174:Core/Src/main.c ****     float gyro_factor = 131.0f; // 对于±250°/s量程
 175:Core/Src/main.c ****     float gyro_roll = MPU6050_Data.gyro_x / gyro_factor;
 176:Core/Src/main.c ****     float gyro_pitch = MPU6050_Data.gyro_y / gyro_factor;
 177:Core/Src/main.c ****     float gyro_yaw = MPU6050_Data.gyro_z / gyro_factor;
 178:Core/Src/main.c **** 
 179:Core/Src/main.c ****     // 应用卡尔曼滤波
 180:Core/Src/main.c ****     filtered_roll = kalmanUpdate(&rollKalman, accel_roll, gyro_roll, dt);
 181:Core/Src/main.c ****     filtered_pitch = kalmanUpdate(&pitchKalman, accel_pitch, gyro_pitch, dt);
 182:Core/Src/main.c **** 
 183:Core/Src/main.c ****     // 注意：yaw角不能从加速度计得到，需要磁力计
 184:Core/Src/main.c ****     // 这里简单地使用四元数计算的yaw值
 185:Core/Src/main.c ****     filtered_yaw = raw_yaw;
 186:Core/Src/main.c **** 
 187:Core/Src/main.c ****     // 使用滤波后的角度作为最终输出
 188:Core/Src/main.c ****     roll = filtered_roll;
 189:Core/Src/main.c ****     pitch = filtered_pitch;
 190:Core/Src/main.c ****     yaw = filtered_yaw;
 191:Core/Src/main.c **** 
 192:Core/Src/main.c ****     /* USER CODE END WHILE */
 193:Core/Src/main.c **** 
 194:Core/Src/main.c ****     /* USER CODE BEGIN 3 */
 195:Core/Src/main.c ****     HAL_Delay(10);
 196:Core/Src/main.c ****   }
 197:Core/Src/main.c ****   /* USER CODE END 3 */
 198:Core/Src/main.c **** }
 199:Core/Src/main.c **** 
 200:Core/Src/main.c **** /**
 201:Core/Src/main.c ****   * @brief System Clock Configuration
 202:Core/Src/main.c ****   * @retval None
 203:Core/Src/main.c ****   */
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 5


 204:Core/Src/main.c **** void SystemClock_Config(void)
 205:Core/Src/main.c **** {
 206:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 207:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 208:Core/Src/main.c **** 
 209:Core/Src/main.c ****   /** Initializes the RCC Oscillators according to the specified parameters
 210:Core/Src/main.c ****   * in the RCC_OscInitTypeDef structure.
 211:Core/Src/main.c ****   */
 212:Core/Src/main.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 213:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 214:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 215:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 216:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 217:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 218:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 219:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 220:Core/Src/main.c ****   {
 221:Core/Src/main.c ****     Error_Handler();
 222:Core/Src/main.c ****   }
 223:Core/Src/main.c **** 
 224:Core/Src/main.c ****   /** Initializes the CPU, AHB and APB buses clocks
 225:Core/Src/main.c ****   */
 226:Core/Src/main.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 227:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 228:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 229:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 230:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 231:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 232:Core/Src/main.c **** 
 233:Core/Src/main.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 234:Core/Src/main.c ****   {
 235:Core/Src/main.c ****     Error_Handler();
 236:Core/Src/main.c ****   }
 237:Core/Src/main.c **** }
 238:Core/Src/main.c **** 
 239:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 240:Core/Src/main.c **** void MPU6050_read_data(void)
 241:Core/Src/main.c **** {
  27              		.loc 1 241 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 24
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 30B5     		push	{r4, r5, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 12
  34              		.cfi_offset 4, -12
  35              		.cfi_offset 5, -8
  36              		.cfi_offset 14, -4
  37 0002 8BB0     		sub	sp, sp, #44
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 56
 242:Core/Src/main.c ****   uint8_t readBuffer[14];
  40              		.loc 1 242 3 view .LVU1
 243:Core/Src/main.c ****   uint8_t temp_data[2];
  41              		.loc 1 243 3 view .LVU2
 244:Core/Src/main.c **** 
 245:Core/Src/main.c ****   HAL_I2C_Mem_Read(&hi2c1,MPU6050_Address,MPU6050_Accel_x,1,readBuffer,14,HAL_MAX_DELAY);
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 6


  42              		.loc 1 245 3 view .LVU3
  43 0004 264C     		ldr	r4, .L3
  44 0006 4FF0FF35 		mov	r5, #-1
  45 000a 0295     		str	r5, [sp, #8]
  46 000c 0E23     		movs	r3, #14
  47 000e 0193     		str	r3, [sp, #4]
  48 0010 06AB     		add	r3, sp, #24
  49 0012 0093     		str	r3, [sp]
  50 0014 0123     		movs	r3, #1
  51 0016 3B22     		movs	r2, #59
  52 0018 D021     		movs	r1, #208
  53 001a 2046     		mov	r0, r4
  54 001c FFF7FEFF 		bl	HAL_I2C_Mem_Read
  55              	.LVL0:
 246:Core/Src/main.c ****   HAL_I2C_Mem_Read(&hi2c1,MPU6050_Address,MPU6050_Temp,1,temp_data,2,HAL_MAX_DELAY);
  56              		.loc 1 246 3 view .LVU4
  57 0020 0295     		str	r5, [sp, #8]
  58 0022 0223     		movs	r3, #2
  59 0024 0193     		str	r3, [sp, #4]
  60 0026 05AB     		add	r3, sp, #20
  61 0028 0093     		str	r3, [sp]
  62 002a 0123     		movs	r3, #1
  63 002c 2F22     		movs	r2, #47
  64 002e D021     		movs	r1, #208
  65 0030 2046     		mov	r0, r4
  66 0032 FFF7FEFF 		bl	HAL_I2C_Mem_Read
  67              	.LVL1:
 247:Core/Src/main.c ****   MPU6050_Data.accel_x = (readBuffer[0] << 8) | readBuffer[1];
  68              		.loc 1 247 3 view .LVU5
  69              		.loc 1 247 37 is_stmt 0 view .LVU6
  70 0036 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
  71              		.loc 1 247 59 view .LVU7
  72 003a 9DF81920 		ldrb	r2, [sp, #25]	@ zero_extendqisi2
  73              		.loc 1 247 47 view .LVU8
  74 003e 42EA0322 		orr	r2, r2, r3, lsl #8
  75              		.loc 1 247 24 view .LVU9
  76 0042 184B     		ldr	r3, .L3+4
  77 0044 1A80     		strh	r2, [r3]	@ movhi
 248:Core/Src/main.c ****   MPU6050_Data.accel_y = (readBuffer[2] << 8) | readBuffer[3];
  78              		.loc 1 248 3 is_stmt 1 view .LVU10
  79              		.loc 1 248 37 is_stmt 0 view .LVU11
  80 0046 9DF81A10 		ldrb	r1, [sp, #26]	@ zero_extendqisi2
  81              		.loc 1 248 59 view .LVU12
  82 004a 9DF81B20 		ldrb	r2, [sp, #27]	@ zero_extendqisi2
  83              		.loc 1 248 47 view .LVU13
  84 004e 42EA0122 		orr	r2, r2, r1, lsl #8
  85              		.loc 1 248 24 view .LVU14
  86 0052 5A80     		strh	r2, [r3, #2]	@ movhi
 249:Core/Src/main.c ****   MPU6050_Data.accel_z = (readBuffer[4] << 8) | readBuffer[5];
  87              		.loc 1 249 3 is_stmt 1 view .LVU15
  88              		.loc 1 249 37 is_stmt 0 view .LVU16
  89 0054 9DF81C10 		ldrb	r1, [sp, #28]	@ zero_extendqisi2
  90              		.loc 1 249 59 view .LVU17
  91 0058 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
  92              		.loc 1 249 47 view .LVU18
  93 005c 42EA0122 		orr	r2, r2, r1, lsl #8
  94              		.loc 1 249 24 view .LVU19
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 7


  95 0060 9A80     		strh	r2, [r3, #4]	@ movhi
 250:Core/Src/main.c ****   MPU6050_Data.gyro_x = (readBuffer[8] << 8) | readBuffer[9];
  96              		.loc 1 250 3 is_stmt 1 view .LVU20
  97              		.loc 1 250 36 is_stmt 0 view .LVU21
  98 0062 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
  99              		.loc 1 250 58 view .LVU22
 100 0066 9DF82120 		ldrb	r2, [sp, #33]	@ zero_extendqisi2
 101              		.loc 1 250 46 view .LVU23
 102 006a 42EA0122 		orr	r2, r2, r1, lsl #8
 103              		.loc 1 250 23 view .LVU24
 104 006e DA80     		strh	r2, [r3, #6]	@ movhi
 251:Core/Src/main.c ****   MPU6050_Data.gyro_y = (readBuffer[10] << 8) | readBuffer[11];
 105              		.loc 1 251 3 is_stmt 1 view .LVU25
 106              		.loc 1 251 36 is_stmt 0 view .LVU26
 107 0070 9DF82210 		ldrb	r1, [sp, #34]	@ zero_extendqisi2
 108              		.loc 1 251 59 view .LVU27
 109 0074 9DF82320 		ldrb	r2, [sp, #35]	@ zero_extendqisi2
 110              		.loc 1 251 47 view .LVU28
 111 0078 42EA0122 		orr	r2, r2, r1, lsl #8
 112              		.loc 1 251 23 view .LVU29
 113 007c 1A81     		strh	r2, [r3, #8]	@ movhi
 252:Core/Src/main.c ****   MPU6050_Data.gyro_z = (readBuffer[12] << 8) | readBuffer[13];
 114              		.loc 1 252 3 is_stmt 1 view .LVU30
 115              		.loc 1 252 36 is_stmt 0 view .LVU31
 116 007e 9DF82410 		ldrb	r1, [sp, #36]	@ zero_extendqisi2
 117              		.loc 1 252 59 view .LVU32
 118 0082 9DF82520 		ldrb	r2, [sp, #37]	@ zero_extendqisi2
 119              		.loc 1 252 47 view .LVU33
 120 0086 42EA0122 		orr	r2, r2, r1, lsl #8
 121              		.loc 1 252 23 view .LVU34
 122 008a 5A81     		strh	r2, [r3, #10]	@ movhi
 253:Core/Src/main.c ****   MPU6050_Data.temperature = (temp_data[0] << 8) | temp_data[1];
 123              		.loc 1 253 3 is_stmt 1 view .LVU35
 124              		.loc 1 253 40 is_stmt 0 view .LVU36
 125 008c 9DF81410 		ldrb	r1, [sp, #20]	@ zero_extendqisi2
 126              		.loc 1 253 61 view .LVU37
 127 0090 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 128              		.loc 1 253 50 view .LVU38
 129 0094 42EA0122 		orr	r2, r2, r1, lsl #8
 130              		.loc 1 253 28 view .LVU39
 131 0098 5A82     		strh	r2, [r3, #18]	@ movhi
 254:Core/Src/main.c **** }
 132              		.loc 1 254 1 view .LVU40
 133 009a 0BB0     		add	sp, sp, #44
 134              	.LCFI2:
 135              		.cfi_def_cfa_offset 12
 136              		@ sp needed
 137 009c 30BD     		pop	{r4, r5, pc}
 138              	.L4:
 139 009e 00BF     		.align	2
 140              	.L3:
 141 00a0 00000000 		.word	hi2c1
 142 00a4 00000000 		.word	MPU6050_Data
 143              		.cfi_endproc
 144              	.LFE67:
 146              		.section	.text.MPU6050_Init,"ax",%progbits
 147              		.align	1
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 8


 148              		.global	MPU6050_Init
 149              		.syntax unified
 150              		.thumb
 151              		.thumb_func
 153              	MPU6050_Init:
 154              	.LFB68:
 255:Core/Src/main.c **** 
 256:Core/Src/main.c **** void MPU6050_Init(void)
 257:Core/Src/main.c **** {
 155              		.loc 1 257 1 is_stmt 1 view -0
 156              		.cfi_startproc
 157              		@ args = 0, pretend = 0, frame = 8
 158              		@ frame_needed = 0, uses_anonymous_args = 0
 159 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 160              	.LCFI3:
 161              		.cfi_def_cfa_offset 20
 162              		.cfi_offset 4, -20
 163              		.cfi_offset 5, -16
 164              		.cfi_offset 6, -12
 165              		.cfi_offset 7, -8
 166              		.cfi_offset 14, -4
 167 0002 87B0     		sub	sp, sp, #28
 168              	.LCFI4:
 169              		.cfi_def_cfa_offset 48
 258:Core/Src/main.c ****   uint8_t Data;
 170              		.loc 1 258 3 view .LVU42
 259:Core/Src/main.c ****   uint8_t check;
 171              		.loc 1 259 3 view .LVU43
 260:Core/Src/main.c **** 
 261:Core/Src/main.c ****   HAL_I2C_Mem_Read(&hi2c1,MPU6050_Address,MPU6050_WHO_I_AM,1,&check,1,HAL_MAX_DELAY);
 172              		.loc 1 261 3 view .LVU44
 173 0004 4FF0FF33 		mov	r3, #-1
 174 0008 0293     		str	r3, [sp, #8]
 175 000a 0123     		movs	r3, #1
 176 000c 0193     		str	r3, [sp, #4]
 177 000e 0DF11602 		add	r2, sp, #22
 178 0012 0092     		str	r2, [sp]
 179 0014 7522     		movs	r2, #117
 180 0016 D021     		movs	r1, #208
 181 0018 1948     		ldr	r0, .L9
 182 001a FFF7FEFF 		bl	HAL_I2C_Mem_Read
 183              	.LVL2:
 262:Core/Src/main.c ****   if (check == MPU6050_Address)
 184              		.loc 1 262 3 view .LVU45
 185              		.loc 1 262 13 is_stmt 0 view .LVU46
 186 001e 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
 187              		.loc 1 262 6 view .LVU47
 188 0022 D02B     		cmp	r3, #208
 189 0024 01D0     		beq	.L8
 190              	.L5:
 263:Core/Src/main.c ****   {
 264:Core/Src/main.c ****     Data = 0x00;//唤醒mpu6050
 265:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x6b,1,&Data,1,HAL_MAX_DELAY);
 266:Core/Src/main.c **** 
 267:Core/Src/main.c ****     Data = 0x08;//角度寄存器，地址：0x1b
 268:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x1b,1,&Data,1,HAL_MAX_DELAY);
 269:Core/Src/main.c **** 
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 9


 270:Core/Src/main.c ****     Data = 0x10;//加速度寄存器，地址：0x1c
 271:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x1c,1,&Data,1,HAL_MAX_DELAY);
 272:Core/Src/main.c ****   }
 273:Core/Src/main.c ****   
 274:Core/Src/main.c **** }
 191              		.loc 1 274 1 view .LVU48
 192 0026 07B0     		add	sp, sp, #28
 193              	.LCFI5:
 194              		.cfi_remember_state
 195              		.cfi_def_cfa_offset 20
 196              		@ sp needed
 197 0028 F0BD     		pop	{r4, r5, r6, r7, pc}
 198              	.L8:
 199              	.LCFI6:
 200              		.cfi_restore_state
 264:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x6b,1,&Data,1,HAL_MAX_DELAY);
 201              		.loc 1 264 5 is_stmt 1 view .LVU49
 264:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x6b,1,&Data,1,HAL_MAX_DELAY);
 202              		.loc 1 264 10 is_stmt 0 view .LVU50
 203 002a 0023     		movs	r3, #0
 204 002c 8DF81730 		strb	r3, [sp, #23]
 265:Core/Src/main.c **** 
 205              		.loc 1 265 5 is_stmt 1 view .LVU51
 206 0030 134D     		ldr	r5, .L9
 207 0032 4FF0FF37 		mov	r7, #-1
 208 0036 0297     		str	r7, [sp, #8]
 209 0038 0124     		movs	r4, #1
 210 003a 0194     		str	r4, [sp, #4]
 211 003c 0DF11706 		add	r6, sp, #23
 212 0040 0096     		str	r6, [sp]
 213 0042 2346     		mov	r3, r4
 214 0044 6B22     		movs	r2, #107
 215 0046 D021     		movs	r1, #208
 216 0048 2846     		mov	r0, r5
 217 004a FFF7FEFF 		bl	HAL_I2C_Mem_Write
 218              	.LVL3:
 267:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x1b,1,&Data,1,HAL_MAX_DELAY);
 219              		.loc 1 267 5 view .LVU52
 267:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x1b,1,&Data,1,HAL_MAX_DELAY);
 220              		.loc 1 267 10 is_stmt 0 view .LVU53
 221 004e 0823     		movs	r3, #8
 222 0050 8DF81730 		strb	r3, [sp, #23]
 268:Core/Src/main.c **** 
 223              		.loc 1 268 5 is_stmt 1 view .LVU54
 224 0054 0297     		str	r7, [sp, #8]
 225 0056 0194     		str	r4, [sp, #4]
 226 0058 0096     		str	r6, [sp]
 227 005a 2346     		mov	r3, r4
 228 005c 1B22     		movs	r2, #27
 229 005e D021     		movs	r1, #208
 230 0060 2846     		mov	r0, r5
 231 0062 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 232              	.LVL4:
 270:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x1c,1,&Data,1,HAL_MAX_DELAY);
 233              		.loc 1 270 5 view .LVU55
 270:Core/Src/main.c ****     HAL_I2C_Mem_Write(&hi2c1,MPU6050_Address,0x1c,1,&Data,1,HAL_MAX_DELAY);
 234              		.loc 1 270 10 is_stmt 0 view .LVU56
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 10


 235 0066 1023     		movs	r3, #16
 236 0068 8DF81730 		strb	r3, [sp, #23]
 271:Core/Src/main.c ****   }
 237              		.loc 1 271 5 is_stmt 1 view .LVU57
 238 006c 0297     		str	r7, [sp, #8]
 239 006e 0194     		str	r4, [sp, #4]
 240 0070 0096     		str	r6, [sp]
 241 0072 2346     		mov	r3, r4
 242 0074 1C22     		movs	r2, #28
 243 0076 D021     		movs	r1, #208
 244 0078 2846     		mov	r0, r5
 245 007a FFF7FEFF 		bl	HAL_I2C_Mem_Write
 246              	.LVL5:
 247              		.loc 1 274 1 is_stmt 0 view .LVU58
 248 007e D2E7     		b	.L5
 249              	.L10:
 250              		.align	2
 251              	.L9:
 252 0080 00000000 		.word	hi2c1
 253              		.cfi_endproc
 254              	.LFE68:
 256              		.global	__aeabi_fmul
 257              		.global	__aeabi_fadd
 258              		.global	__aeabi_f2d
 259              		.global	__aeabi_d2f
 260              		.global	__aeabi_fdiv
 261              		.section	.text.InitQuaternion,"ax",%progbits
 262              		.align	1
 263              		.global	InitQuaternion
 264              		.syntax unified
 265              		.thumb
 266              		.thumb_func
 268              	InitQuaternion:
 269              	.LVL6:
 270              	.LFB69:
 275:Core/Src/main.c **** 
 276:Core/Src/main.c **** void InitQuaternion(Quaternion *q)
 277:Core/Src/main.c **** {
 271              		.loc 1 277 1 is_stmt 1 view -0
 272              		.cfi_startproc
 273              		@ args = 0, pretend = 0, frame = 0
 274              		@ frame_needed = 0, uses_anonymous_args = 0
 275              		.loc 1 277 1 is_stmt 0 view .LVU60
 276 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 277              	.LCFI7:
 278              		.cfi_def_cfa_offset 32
 279              		.cfi_offset 3, -32
 280              		.cfi_offset 4, -28
 281              		.cfi_offset 5, -24
 282              		.cfi_offset 6, -20
 283              		.cfi_offset 7, -16
 284              		.cfi_offset 8, -12
 285              		.cfi_offset 9, -8
 286              		.cfi_offset 14, -4
 287 0004 0446     		mov	r4, r0
 278:Core/Src/main.c ****   float norm = sqrt(q->w * q->w + q->x * q->x + q->y * q->y + q->z * q->z);
 288              		.loc 1 278 3 is_stmt 1 view .LVU61
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 11


 289              		.loc 1 278 22 is_stmt 0 view .LVU62
 290 0006 D0F80090 		ldr	r9, [r0]	@ float
 291              		.loc 1 278 26 view .LVU63
 292 000a 4946     		mov	r1, r9
 293 000c 4846     		mov	r0, r9
 294              	.LVL7:
 295              		.loc 1 278 26 view .LVU64
 296 000e FFF7FEFF 		bl	__aeabi_fmul
 297              	.LVL8:
 298 0012 0546     		mov	r5, r0
 299              		.loc 1 278 36 view .LVU65
 300 0014 D4F80480 		ldr	r8, [r4, #4]	@ float
 301              		.loc 1 278 40 view .LVU66
 302 0018 4146     		mov	r1, r8
 303 001a 4046     		mov	r0, r8
 304 001c FFF7FEFF 		bl	__aeabi_fmul
 305              	.LVL9:
 306 0020 0146     		mov	r1, r0
 307              		.loc 1 278 33 view .LVU67
 308 0022 2846     		mov	r0, r5
 309 0024 FFF7FEFF 		bl	__aeabi_fadd
 310              	.LVL10:
 311 0028 0546     		mov	r5, r0
 312              		.loc 1 278 50 view .LVU68
 313 002a A768     		ldr	r7, [r4, #8]	@ float
 314              		.loc 1 278 54 view .LVU69
 315 002c 3946     		mov	r1, r7
 316 002e 3846     		mov	r0, r7
 317 0030 FFF7FEFF 		bl	__aeabi_fmul
 318              	.LVL11:
 319 0034 0146     		mov	r1, r0
 320              		.loc 1 278 47 view .LVU70
 321 0036 2846     		mov	r0, r5
 322 0038 FFF7FEFF 		bl	__aeabi_fadd
 323              	.LVL12:
 324 003c 0546     		mov	r5, r0
 325              		.loc 1 278 64 view .LVU71
 326 003e E668     		ldr	r6, [r4, #12]	@ float
 327              		.loc 1 278 68 view .LVU72
 328 0040 3146     		mov	r1, r6
 329 0042 3046     		mov	r0, r6
 330 0044 FFF7FEFF 		bl	__aeabi_fmul
 331              	.LVL13:
 332 0048 0146     		mov	r1, r0
 333              		.loc 1 278 61 view .LVU73
 334 004a 2846     		mov	r0, r5
 335 004c FFF7FEFF 		bl	__aeabi_fadd
 336              	.LVL14:
 337              		.loc 1 278 16 view .LVU74
 338 0050 FFF7FEFF 		bl	__aeabi_f2d
 339              	.LVL15:
 340 0054 FFF7FEFF 		bl	sqrt
 341              	.LVL16:
 342              		.loc 1 278 9 discriminator 1 view .LVU75
 343 0058 FFF7FEFF 		bl	__aeabi_d2f
 344              	.LVL17:
 345 005c 0546     		mov	r5, r0
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 12


 346              	.LVL18:
 279:Core/Src/main.c ****   q->w /= norm;
 347              		.loc 1 279 3 is_stmt 1 view .LVU76
 348              		.loc 1 279 8 is_stmt 0 view .LVU77
 349 005e 0146     		mov	r1, r0
 350 0060 4846     		mov	r0, r9
 351              	.LVL19:
 352              		.loc 1 279 8 view .LVU78
 353 0062 FFF7FEFF 		bl	__aeabi_fdiv
 354              	.LVL20:
 355              		.loc 1 279 8 view .LVU79
 356 0066 2060     		str	r0, [r4]	@ float
 280:Core/Src/main.c ****   q->x /= norm;
 357              		.loc 1 280 3 is_stmt 1 view .LVU80
 358              		.loc 1 280 8 is_stmt 0 view .LVU81
 359 0068 2946     		mov	r1, r5
 360 006a 4046     		mov	r0, r8
 361 006c FFF7FEFF 		bl	__aeabi_fdiv
 362              	.LVL21:
 363 0070 6060     		str	r0, [r4, #4]	@ float
 281:Core/Src/main.c ****   q->y /= norm;
 364              		.loc 1 281 3 is_stmt 1 view .LVU82
 365              		.loc 1 281 8 is_stmt 0 view .LVU83
 366 0072 2946     		mov	r1, r5
 367 0074 3846     		mov	r0, r7
 368 0076 FFF7FEFF 		bl	__aeabi_fdiv
 369              	.LVL22:
 370 007a A060     		str	r0, [r4, #8]	@ float
 282:Core/Src/main.c ****   q->z /= norm;
 371              		.loc 1 282 3 is_stmt 1 view .LVU84
 372              		.loc 1 282 8 is_stmt 0 view .LVU85
 373 007c 2946     		mov	r1, r5
 374 007e 3046     		mov	r0, r6
 375 0080 FFF7FEFF 		bl	__aeabi_fdiv
 376              	.LVL23:
 377 0084 E060     		str	r0, [r4, #12]	@ float
 283:Core/Src/main.c **** }
 378              		.loc 1 283 1 view .LVU86
 379 0086 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 380              		.loc 1 283 1 view .LVU87
 381              		.cfi_endproc
 382              	.LFE69:
 384              		.global	__aeabi_fsub
 385              		.section	.text.multiplyQuaternions,"ax",%progbits
 386              		.align	1
 387              		.global	multiplyQuaternions
 388              		.syntax unified
 389              		.thumb
 390              		.thumb_func
 392              	multiplyQuaternions:
 393              	.LVL24:
 394              	.LFB70:
 284:Core/Src/main.c **** 
 285:Core/Src/main.c **** Quaternion multiplyQuaternions(const Quaternion *q1, const Quaternion *q2) 
 286:Core/Src/main.c **** {
 395              		.loc 1 286 1 is_stmt 1 view -0
 396              		.cfi_startproc
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 13


 397              		@ args = 0, pretend = 0, frame = 8
 398              		@ frame_needed = 0, uses_anonymous_args = 0
 399              		.loc 1 286 1 is_stmt 0 view .LVU89
 400 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 401              	.LCFI8:
 402              		.cfi_def_cfa_offset 36
 403              		.cfi_offset 4, -36
 404              		.cfi_offset 5, -32
 405              		.cfi_offset 6, -28
 406              		.cfi_offset 7, -24
 407              		.cfi_offset 8, -20
 408              		.cfi_offset 9, -16
 409              		.cfi_offset 10, -12
 410              		.cfi_offset 11, -8
 411              		.cfi_offset 14, -4
 412 0004 83B0     		sub	sp, sp, #12
 413              	.LCFI9:
 414              		.cfi_def_cfa_offset 48
 415 0006 0446     		mov	r4, r0
 416 0008 0E46     		mov	r6, r1
 417 000a 9346     		mov	fp, r2
 287:Core/Src/main.c ****   Quaternion output;
 418              		.loc 1 287 3 is_stmt 1 view .LVU90
 288:Core/Src/main.c ****   output.w = q1->w * q2->w - q1->x * q2->x - q1->y * q2->y - q1->z * q2->z;
 419              		.loc 1 288 3 view .LVU91
 420              		.loc 1 288 16 is_stmt 0 view .LVU92
 421 000c D1F800A0 		ldr	r10, [r1]	@ float
 422              		.loc 1 288 24 view .LVU93
 423 0010 1568     		ldr	r5, [r2]	@ float
 424              		.loc 1 288 20 view .LVU94
 425 0012 2946     		mov	r1, r5
 426              	.LVL25:
 427              		.loc 1 288 20 view .LVU95
 428 0014 5046     		mov	r0, r10
 429              	.LVL26:
 430              		.loc 1 288 20 view .LVU96
 431 0016 FFF7FEFF 		bl	__aeabi_fmul
 432              	.LVL27:
 433              		.loc 1 288 20 view .LVU97
 434 001a 0746     		mov	r7, r0
 435              		.loc 1 288 32 view .LVU98
 436 001c D6F80480 		ldr	r8, [r6, #4]	@ float
 437              		.loc 1 288 40 view .LVU99
 438 0020 DBF80430 		ldr	r3, [fp, #4]	@ float
 439              		.loc 1 288 36 view .LVU100
 440 0024 0093     		str	r3, [sp]	@ float
 441 0026 1946     		mov	r1, r3
 442 0028 4046     		mov	r0, r8
 443 002a FFF7FEFF 		bl	__aeabi_fmul
 444              	.LVL28:
 445 002e 0146     		mov	r1, r0
 446              		.loc 1 288 28 view .LVU101
 447 0030 3846     		mov	r0, r7
 448 0032 FFF7FEFF 		bl	__aeabi_fsub
 449              	.LVL29:
 450 0036 0190     		str	r0, [sp, #4]	@ float
 451              		.loc 1 288 48 view .LVU102
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 14


 452 0038 B768     		ldr	r7, [r6, #8]	@ float
 453              		.loc 1 288 56 view .LVU103
 454 003a DBF80890 		ldr	r9, [fp, #8]	@ float
 455              		.loc 1 288 52 view .LVU104
 456 003e 4946     		mov	r1, r9
 457 0040 3846     		mov	r0, r7
 458 0042 FFF7FEFF 		bl	__aeabi_fmul
 459              	.LVL30:
 460 0046 0146     		mov	r1, r0
 461              		.loc 1 288 44 view .LVU105
 462 0048 0198     		ldr	r0, [sp, #4]	@ float
 463 004a FFF7FEFF 		bl	__aeabi_fsub
 464              	.LVL31:
 465 004e 0190     		str	r0, [sp, #4]	@ float
 466              		.loc 1 288 64 view .LVU106
 467 0050 F668     		ldr	r6, [r6, #12]	@ float
 468              	.LVL32:
 469              		.loc 1 288 72 view .LVU107
 470 0052 DBF80CB0 		ldr	fp, [fp, #12]	@ float
 471              	.LVL33:
 472              		.loc 1 288 68 view .LVU108
 473 0056 5946     		mov	r1, fp
 474 0058 3046     		mov	r0, r6
 475 005a FFF7FEFF 		bl	__aeabi_fmul
 476              	.LVL34:
 477 005e 0146     		mov	r1, r0
 478              		.loc 1 288 60 view .LVU109
 479 0060 0198     		ldr	r0, [sp, #4]	@ float
 480 0062 FFF7FEFF 		bl	__aeabi_fsub
 481              	.LVL35:
 482              		.loc 1 288 12 view .LVU110
 483 0066 2060     		str	r0, [r4]	@ float
 289:Core/Src/main.c ****   output.x = q1->w * q2->x + q1->x * q2->w + q1->y * q2->z - q1->z * q2->y;
 484              		.loc 1 289 3 is_stmt 1 view .LVU111
 485              		.loc 1 289 20 is_stmt 0 view .LVU112
 486 0068 0099     		ldr	r1, [sp]	@ float
 487 006a 5046     		mov	r0, r10
 488 006c FFF7FEFF 		bl	__aeabi_fmul
 489              	.LVL36:
 490 0070 0190     		str	r0, [sp, #4]	@ float
 491              		.loc 1 289 36 view .LVU113
 492 0072 4146     		mov	r1, r8
 493 0074 2846     		mov	r0, r5
 494 0076 FFF7FEFF 		bl	__aeabi_fmul
 495              	.LVL37:
 496 007a 0146     		mov	r1, r0
 497              		.loc 1 289 28 view .LVU114
 498 007c 0198     		ldr	r0, [sp, #4]	@ float
 499 007e FFF7FEFF 		bl	__aeabi_fadd
 500              	.LVL38:
 501 0082 0190     		str	r0, [sp, #4]	@ float
 502              		.loc 1 289 52 view .LVU115
 503 0084 5946     		mov	r1, fp
 504 0086 3846     		mov	r0, r7
 505 0088 FFF7FEFF 		bl	__aeabi_fmul
 506              	.LVL39:
 507 008c 0146     		mov	r1, r0
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 15


 508              		.loc 1 289 44 view .LVU116
 509 008e 0198     		ldr	r0, [sp, #4]	@ float
 510 0090 FFF7FEFF 		bl	__aeabi_fadd
 511              	.LVL40:
 512 0094 0190     		str	r0, [sp, #4]	@ float
 513              		.loc 1 289 68 view .LVU117
 514 0096 3146     		mov	r1, r6
 515 0098 4846     		mov	r0, r9
 516 009a FFF7FEFF 		bl	__aeabi_fmul
 517              	.LVL41:
 518 009e 0146     		mov	r1, r0
 519              		.loc 1 289 60 view .LVU118
 520 00a0 0198     		ldr	r0, [sp, #4]	@ float
 521 00a2 FFF7FEFF 		bl	__aeabi_fsub
 522              	.LVL42:
 523              		.loc 1 289 12 view .LVU119
 524 00a6 6060     		str	r0, [r4, #4]	@ float
 290:Core/Src/main.c ****   output.y = q1->w * q2->y - q1->x * q2->z + q1->y * q2->w + q1->z * q2->x;
 525              		.loc 1 290 3 is_stmt 1 view .LVU120
 526              		.loc 1 290 20 is_stmt 0 view .LVU121
 527 00a8 4946     		mov	r1, r9
 528 00aa 5046     		mov	r0, r10
 529 00ac FFF7FEFF 		bl	__aeabi_fmul
 530              	.LVL43:
 531 00b0 0190     		str	r0, [sp, #4]	@ float
 532              		.loc 1 290 36 view .LVU122
 533 00b2 5946     		mov	r1, fp
 534 00b4 4046     		mov	r0, r8
 535 00b6 FFF7FEFF 		bl	__aeabi_fmul
 536              	.LVL44:
 537 00ba 0146     		mov	r1, r0
 538              		.loc 1 290 28 view .LVU123
 539 00bc 0198     		ldr	r0, [sp, #4]	@ float
 540 00be FFF7FEFF 		bl	__aeabi_fsub
 541              	.LVL45:
 542 00c2 0190     		str	r0, [sp, #4]	@ float
 543              		.loc 1 290 52 view .LVU124
 544 00c4 3946     		mov	r1, r7
 545 00c6 2846     		mov	r0, r5
 546 00c8 FFF7FEFF 		bl	__aeabi_fmul
 547              	.LVL46:
 548 00cc 0146     		mov	r1, r0
 549              		.loc 1 290 44 view .LVU125
 550 00ce 0198     		ldr	r0, [sp, #4]	@ float
 551 00d0 FFF7FEFF 		bl	__aeabi_fadd
 552              	.LVL47:
 553 00d4 0190     		str	r0, [sp, #4]	@ float
 554              		.loc 1 290 68 view .LVU126
 555 00d6 3146     		mov	r1, r6
 556 00d8 0098     		ldr	r0, [sp]	@ float
 557 00da FFF7FEFF 		bl	__aeabi_fmul
 558              	.LVL48:
 559 00de 0146     		mov	r1, r0
 560              		.loc 1 290 60 view .LVU127
 561 00e0 0198     		ldr	r0, [sp, #4]	@ float
 562 00e2 FFF7FEFF 		bl	__aeabi_fadd
 563              	.LVL49:
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 16


 564              		.loc 1 290 12 view .LVU128
 565 00e6 A060     		str	r0, [r4, #8]	@ float
 291:Core/Src/main.c ****   output.z = q1->w * q2->z + q1->x * q2->y - q1->y * q2->x + q1->z * q2->w;
 566              		.loc 1 291 3 is_stmt 1 view .LVU129
 567              		.loc 1 291 20 is_stmt 0 view .LVU130
 568 00e8 5946     		mov	r1, fp
 569 00ea 5046     		mov	r0, r10
 570 00ec FFF7FEFF 		bl	__aeabi_fmul
 571              	.LVL50:
 572 00f0 8246     		mov	r10, r0
 573              		.loc 1 291 36 view .LVU131
 574 00f2 4946     		mov	r1, r9
 575 00f4 4046     		mov	r0, r8
 576 00f6 FFF7FEFF 		bl	__aeabi_fmul
 577              	.LVL51:
 578 00fa 0146     		mov	r1, r0
 579              		.loc 1 291 28 view .LVU132
 580 00fc 5046     		mov	r0, r10
 581 00fe FFF7FEFF 		bl	__aeabi_fadd
 582              	.LVL52:
 583 0102 8046     		mov	r8, r0
 584              		.loc 1 291 52 view .LVU133
 585 0104 3946     		mov	r1, r7
 586 0106 0098     		ldr	r0, [sp]	@ float
 587 0108 FFF7FEFF 		bl	__aeabi_fmul
 588              	.LVL53:
 589 010c 0146     		mov	r1, r0
 590              		.loc 1 291 44 view .LVU134
 591 010e 4046     		mov	r0, r8
 592 0110 FFF7FEFF 		bl	__aeabi_fsub
 593              	.LVL54:
 594 0114 0746     		mov	r7, r0
 595              		.loc 1 291 68 view .LVU135
 596 0116 3146     		mov	r1, r6
 597 0118 2846     		mov	r0, r5
 598 011a FFF7FEFF 		bl	__aeabi_fmul
 599              	.LVL55:
 600 011e 0146     		mov	r1, r0
 601              		.loc 1 291 60 view .LVU136
 602 0120 3846     		mov	r0, r7
 603 0122 FFF7FEFF 		bl	__aeabi_fadd
 604              	.LVL56:
 605              		.loc 1 291 12 view .LVU137
 606 0126 E060     		str	r0, [r4, #12]	@ float
 292:Core/Src/main.c ****   return output;
 607              		.loc 1 292 3 is_stmt 1 view .LVU138
 293:Core/Src/main.c **** }
 608              		.loc 1 293 1 is_stmt 0 view .LVU139
 609 0128 2046     		mov	r0, r4
 610 012a 03B0     		add	sp, sp, #12
 611              	.LCFI10:
 612              		.cfi_def_cfa_offset 36
 613              		@ sp needed
 614 012c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 615              		.loc 1 293 1 view .LVU140
 616              		.cfi_endproc
 617              	.LFE70:
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 17


 619              		.global	__aeabi_i2f
 620              		.section	.text.updateQuaternion,"ax",%progbits
 621              		.align	1
 622              		.global	updateQuaternion
 623              		.syntax unified
 624              		.thumb
 625              		.thumb_func
 627              	updateQuaternion:
 628              	.LVL57:
 629              	.LFB71:
 294:Core/Src/main.c **** 
 295:Core/Src/main.c **** void updateQuaternion(Quaternion *q, int16_t gx, int16_t gy, int16_t gz, float dt) 
 296:Core/Src/main.c **** {
 630              		.loc 1 296 1 is_stmt 1 view -0
 631              		.cfi_startproc
 632              		@ args = 4, pretend = 0, frame = 32
 633              		@ frame_needed = 0, uses_anonymous_args = 0
 634              		.loc 1 296 1 is_stmt 0 view .LVU142
 635 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 636              	.LCFI11:
 637              		.cfi_def_cfa_offset 24
 638              		.cfi_offset 4, -24
 639              		.cfi_offset 5, -20
 640              		.cfi_offset 6, -16
 641              		.cfi_offset 7, -12
 642              		.cfi_offset 8, -8
 643              		.cfi_offset 14, -4
 644 0004 88B0     		sub	sp, sp, #32
 645              	.LCFI12:
 646              		.cfi_def_cfa_offset 56
 647 0006 0446     		mov	r4, r0
 648 0008 0F46     		mov	r7, r1
 649 000a 1646     		mov	r6, r2
 650 000c 9846     		mov	r8, r3
 297:Core/Src/main.c ****   float norm;
 651              		.loc 1 297 3 is_stmt 1 view .LVU143
 298:Core/Src/main.c ****   float half_dt = dt * 0.5;
 652              		.loc 1 298 3 view .LVU144
 653              		.loc 1 298 9 is_stmt 0 view .LVU145
 654 000e 4FF07C51 		mov	r1, #1056964608
 655              	.LVL58:
 656              		.loc 1 298 9 view .LVU146
 657 0012 0E98     		ldr	r0, [sp, #56]	@ float
 658              	.LVL59:
 659              		.loc 1 298 9 view .LVU147
 660 0014 FFF7FEFF 		bl	__aeabi_fmul
 661              	.LVL60:
 662              		.loc 1 298 9 view .LVU148
 663 0018 0546     		mov	r5, r0
 664              	.LVL61:
 299:Core/Src/main.c ****   float wx = gx * half_dt;
 665              		.loc 1 299 3 is_stmt 1 view .LVU149
 666              		.loc 1 299 17 is_stmt 0 view .LVU150
 667 001a 3846     		mov	r0, r7
 668              	.LVL62:
 669              		.loc 1 299 17 view .LVU151
 670 001c FFF7FEFF 		bl	__aeabi_i2f
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 18


 671              	.LVL63:
 672              		.loc 1 299 9 view .LVU152
 673 0020 2946     		mov	r1, r5
 674 0022 FFF7FEFF 		bl	__aeabi_fmul
 675              	.LVL64:
 676 0026 0746     		mov	r7, r0
 677              	.LVL65:
 300:Core/Src/main.c ****   float wy = gy * half_dt;
 678              		.loc 1 300 3 is_stmt 1 view .LVU153
 679              		.loc 1 300 17 is_stmt 0 view .LVU154
 680 0028 3046     		mov	r0, r6
 681              	.LVL66:
 682              		.loc 1 300 17 view .LVU155
 683 002a FFF7FEFF 		bl	__aeabi_i2f
 684              	.LVL67:
 685              		.loc 1 300 9 view .LVU156
 686 002e 2946     		mov	r1, r5
 687 0030 FFF7FEFF 		bl	__aeabi_fmul
 688              	.LVL68:
 689 0034 0646     		mov	r6, r0
 690              	.LVL69:
 301:Core/Src/main.c ****   float wz = gz * half_dt;
 691              		.loc 1 301 3 is_stmt 1 view .LVU157
 692              		.loc 1 301 17 is_stmt 0 view .LVU158
 693 0036 4046     		mov	r0, r8
 694              	.LVL70:
 695              		.loc 1 301 17 view .LVU159
 696 0038 FFF7FEFF 		bl	__aeabi_i2f
 697              	.LVL71:
 698              		.loc 1 301 9 view .LVU160
 699 003c 2946     		mov	r1, r5
 700 003e FFF7FEFF 		bl	__aeabi_fmul
 701              	.LVL72:
 302:Core/Src/main.c **** 
 303:Core/Src/main.c ****   Quaternion q_temp;
 702              		.loc 1 303 3 is_stmt 1 view .LVU161
 304:Core/Src/main.c ****   q_temp.w = 0;
 703              		.loc 1 304 3 view .LVU162
 704              		.loc 1 304 12 is_stmt 0 view .LVU163
 705 0042 0023     		movs	r3, #0
 706 0044 0493     		str	r3, [sp, #16]	@ float
 305:Core/Src/main.c ****   q_temp.x = wx;
 707              		.loc 1 305 3 is_stmt 1 view .LVU164
 708              		.loc 1 305 12 is_stmt 0 view .LVU165
 709 0046 0597     		str	r7, [sp, #20]	@ float
 306:Core/Src/main.c ****   q_temp.y = wy;
 710              		.loc 1 306 3 is_stmt 1 view .LVU166
 711              		.loc 1 306 12 is_stmt 0 view .LVU167
 712 0048 0696     		str	r6, [sp, #24]	@ float
 307:Core/Src/main.c ****   q_temp.z = wz;
 713              		.loc 1 307 3 is_stmt 1 view .LVU168
 714              		.loc 1 307 12 is_stmt 0 view .LVU169
 715 004a 0790     		str	r0, [sp, #28]	@ float
 308:Core/Src/main.c **** 
 309:Core/Src/main.c ****   // 更新四元数
 310:Core/Src/main.c ****   *q = multiplyQuaternions(q, &q_temp);
 716              		.loc 1 310 3 is_stmt 1 view .LVU170
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 19


 717              		.loc 1 310 8 is_stmt 0 view .LVU171
 718 004c 6D46     		mov	r5, sp
 719              	.LVL73:
 720              		.loc 1 310 8 view .LVU172
 721 004e 04AA     		add	r2, sp, #16
 722 0050 2146     		mov	r1, r4
 723 0052 2846     		mov	r0, r5
 724              	.LVL74:
 725              		.loc 1 310 8 view .LVU173
 726 0054 FFF7FEFF 		bl	multiplyQuaternions
 727              	.LVL75:
 728              		.loc 1 310 8 view .LVU174
 729 0058 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 730 005c 84E80F00 		stm	r4, {r0, r1, r2, r3}
 311:Core/Src/main.c ****   InitQuaternion(q);
 731              		.loc 1 311 3 is_stmt 1 view .LVU175
 732 0060 2046     		mov	r0, r4
 733 0062 FFF7FEFF 		bl	InitQuaternion
 734              	.LVL76:
 312:Core/Src/main.c **** }
 735              		.loc 1 312 1 is_stmt 0 view .LVU176
 736 0066 08B0     		add	sp, sp, #32
 737              	.LCFI13:
 738              		.cfi_def_cfa_offset 24
 739              		@ sp needed
 740 0068 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 741              		.loc 1 312 1 view .LVU177
 742              		.cfi_endproc
 743              	.LFE71:
 745              		.section	.text.calculateAngles,"ax",%progbits
 746              		.align	1
 747              		.global	calculateAngles
 748              		.syntax unified
 749              		.thumb
 750              		.thumb_func
 752              	calculateAngles:
 753              	.LVL77:
 754              	.LFB72:
 313:Core/Src/main.c **** 
 314:Core/Src/main.c **** void calculateAngles(Quaternion *q, float *roll, float *pitch, float *yaw) 
 315:Core/Src/main.c **** {
 755              		.loc 1 315 1 is_stmt 1 view -0
 756              		.cfi_startproc
 757              		@ args = 0, pretend = 0, frame = 0
 758              		@ frame_needed = 0, uses_anonymous_args = 0
 759              		.loc 1 315 1 is_stmt 0 view .LVU179
 760 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 761              	.LCFI14:
 762              		.cfi_def_cfa_offset 32
 763              		.cfi_offset 4, -32
 764              		.cfi_offset 5, -28
 765              		.cfi_offset 6, -24
 766              		.cfi_offset 7, -20
 767              		.cfi_offset 8, -16
 768              		.cfi_offset 9, -12
 769              		.cfi_offset 10, -8
 770              		.cfi_offset 14, -4
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 20


 771 0004 0446     		mov	r4, r0
 772 0006 0F46     		mov	r7, r1
 773 0008 1646     		mov	r6, r2
 774 000a 1D46     		mov	r5, r3
 316:Core/Src/main.c ****   *roll = atan2(2 * (q->w * q->x + q->y * q->z), 1 - 2 * (q->x * q->x + q->y * q->y));
 775              		.loc 1 316 3 is_stmt 1 view .LVU180
 776              		.loc 1 316 30 is_stmt 0 view .LVU181
 777 000c D0F80480 		ldr	r8, [r0, #4]	@ float
 778              		.loc 1 316 27 view .LVU182
 779 0010 4146     		mov	r1, r8
 780              	.LVL78:
 781              		.loc 1 316 27 view .LVU183
 782 0012 0068     		ldr	r0, [r0]	@ float
 783              	.LVL79:
 784              		.loc 1 316 27 view .LVU184
 785 0014 FFF7FEFF 		bl	__aeabi_fmul
 786              	.LVL80:
 787              		.loc 1 316 27 view .LVU185
 788 0018 8246     		mov	r10, r0
 789              		.loc 1 316 37 view .LVU186
 790 001a D4F80890 		ldr	r9, [r4, #8]	@ float
 791              		.loc 1 316 41 view .LVU187
 792 001e E168     		ldr	r1, [r4, #12]	@ float
 793 0020 4846     		mov	r0, r9
 794 0022 FFF7FEFF 		bl	__aeabi_fmul
 795              	.LVL81:
 796 0026 0146     		mov	r1, r0
 797              		.loc 1 316 34 view .LVU188
 798 0028 5046     		mov	r0, r10
 799 002a FFF7FEFF 		bl	__aeabi_fadd
 800              	.LVL82:
 801 002e 0146     		mov	r1, r0
 802              		.loc 1 316 19 view .LVU189
 803 0030 FFF7FEFF 		bl	__aeabi_fadd
 804              	.LVL83:
 805 0034 8246     		mov	r10, r0
 806              		.loc 1 316 64 view .LVU190
 807 0036 4146     		mov	r1, r8
 808 0038 4046     		mov	r0, r8
 809 003a FFF7FEFF 		bl	__aeabi_fmul
 810              	.LVL84:
 811 003e 8046     		mov	r8, r0
 812              		.loc 1 316 78 view .LVU191
 813 0040 4946     		mov	r1, r9
 814 0042 4846     		mov	r0, r9
 815 0044 FFF7FEFF 		bl	__aeabi_fmul
 816              	.LVL85:
 817 0048 0146     		mov	r1, r0
 818              		.loc 1 316 71 view .LVU192
 819 004a 4046     		mov	r0, r8
 820 004c FFF7FEFF 		bl	__aeabi_fadd
 821              	.LVL86:
 822 0050 0146     		mov	r1, r0
 823              		.loc 1 316 56 view .LVU193
 824 0052 FFF7FEFF 		bl	__aeabi_fadd
 825              	.LVL87:
 826 0056 0146     		mov	r1, r0
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 21


 827              		.loc 1 316 52 view .LVU194
 828 0058 4FF07E50 		mov	r0, #1065353216
 829 005c FFF7FEFF 		bl	__aeabi_fsub
 830              	.LVL88:
 831              		.loc 1 316 11 view .LVU195
 832 0060 FFF7FEFF 		bl	__aeabi_f2d
 833              	.LVL89:
 834 0064 8046     		mov	r8, r0
 835 0066 8946     		mov	r9, r1
 836 0068 5046     		mov	r0, r10
 837 006a FFF7FEFF 		bl	__aeabi_f2d
 838              	.LVL90:
 839 006e 4246     		mov	r2, r8
 840 0070 4B46     		mov	r3, r9
 841 0072 FFF7FEFF 		bl	atan2
 842              	.LVL91:
 843              		.loc 1 316 11 discriminator 1 view .LVU196
 844 0076 FFF7FEFF 		bl	__aeabi_d2f
 845              	.LVL92:
 846              		.loc 1 316 9 discriminator 1 view .LVU197
 847 007a 3860     		str	r0, [r7]	@ float
 317:Core/Src/main.c ****   *pitch = asin(2 * (q->w * q->y - q->z * q->x));
 848              		.loc 1 317 3 is_stmt 1 view .LVU198
 849              		.loc 1 317 27 is_stmt 0 view .LVU199
 850 007c A168     		ldr	r1, [r4, #8]	@ float
 851 007e 2068     		ldr	r0, [r4]	@ float
 852 0080 FFF7FEFF 		bl	__aeabi_fmul
 853              	.LVL93:
 854 0084 0746     		mov	r7, r0
 855              	.LVL94:
 856              		.loc 1 317 41 view .LVU200
 857 0086 6168     		ldr	r1, [r4, #4]	@ float
 858 0088 E068     		ldr	r0, [r4, #12]	@ float
 859 008a FFF7FEFF 		bl	__aeabi_fmul
 860              	.LVL95:
 861 008e 0146     		mov	r1, r0
 862              		.loc 1 317 34 view .LVU201
 863 0090 3846     		mov	r0, r7
 864 0092 FFF7FEFF 		bl	__aeabi_fsub
 865              	.LVL96:
 866 0096 0146     		mov	r1, r0
 867              		.loc 1 317 19 view .LVU202
 868 0098 FFF7FEFF 		bl	__aeabi_fadd
 869              	.LVL97:
 870              		.loc 1 317 12 view .LVU203
 871 009c FFF7FEFF 		bl	__aeabi_f2d
 872              	.LVL98:
 873 00a0 FFF7FEFF 		bl	asin
 874              	.LVL99:
 875              		.loc 1 317 12 discriminator 1 view .LVU204
 876 00a4 FFF7FEFF 		bl	__aeabi_d2f
 877              	.LVL100:
 878              		.loc 1 317 10 discriminator 1 view .LVU205
 879 00a8 3060     		str	r0, [r6]	@ float
 318:Core/Src/main.c ****   *yaw = atan2(2 * (q->w * q->z + q->x * q->y), 1 - 2 * (q->y * q->y + q->z * q->z));
 880              		.loc 1 318 3 is_stmt 1 view .LVU206
 881              		.loc 1 318 29 is_stmt 0 view .LVU207
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 22


 882 00aa E768     		ldr	r7, [r4, #12]	@ float
 883              		.loc 1 318 26 view .LVU208
 884 00ac 3946     		mov	r1, r7
 885 00ae 2068     		ldr	r0, [r4]	@ float
 886 00b0 FFF7FEFF 		bl	__aeabi_fmul
 887              	.LVL101:
 888 00b4 8046     		mov	r8, r0
 889              		.loc 1 318 43 view .LVU209
 890 00b6 A668     		ldr	r6, [r4, #8]	@ float
 891              	.LVL102:
 892              		.loc 1 318 40 view .LVU210
 893 00b8 3146     		mov	r1, r6
 894 00ba 6068     		ldr	r0, [r4, #4]	@ float
 895 00bc FFF7FEFF 		bl	__aeabi_fmul
 896              	.LVL103:
 897 00c0 0146     		mov	r1, r0
 898              		.loc 1 318 33 view .LVU211
 899 00c2 4046     		mov	r0, r8
 900 00c4 FFF7FEFF 		bl	__aeabi_fadd
 901              	.LVL104:
 902 00c8 0146     		mov	r1, r0
 903              		.loc 1 318 18 view .LVU212
 904 00ca FFF7FEFF 		bl	__aeabi_fadd
 905              	.LVL105:
 906 00ce 0446     		mov	r4, r0
 907              	.LVL106:
 908              		.loc 1 318 63 view .LVU213
 909 00d0 3146     		mov	r1, r6
 910 00d2 3046     		mov	r0, r6
 911 00d4 FFF7FEFF 		bl	__aeabi_fmul
 912              	.LVL107:
 913 00d8 0646     		mov	r6, r0
 914              		.loc 1 318 77 view .LVU214
 915 00da 3946     		mov	r1, r7
 916 00dc 3846     		mov	r0, r7
 917 00de FFF7FEFF 		bl	__aeabi_fmul
 918              	.LVL108:
 919 00e2 0146     		mov	r1, r0
 920              		.loc 1 318 70 view .LVU215
 921 00e4 3046     		mov	r0, r6
 922 00e6 FFF7FEFF 		bl	__aeabi_fadd
 923              	.LVL109:
 924 00ea 0146     		mov	r1, r0
 925              		.loc 1 318 55 view .LVU216
 926 00ec FFF7FEFF 		bl	__aeabi_fadd
 927              	.LVL110:
 928 00f0 0146     		mov	r1, r0
 929              		.loc 1 318 51 view .LVU217
 930 00f2 4FF07E50 		mov	r0, #1065353216
 931 00f6 FFF7FEFF 		bl	__aeabi_fsub
 932              	.LVL111:
 933              		.loc 1 318 10 view .LVU218
 934 00fa FFF7FEFF 		bl	__aeabi_f2d
 935              	.LVL112:
 936 00fe 0646     		mov	r6, r0
 937 0100 0F46     		mov	r7, r1
 938 0102 2046     		mov	r0, r4
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 23


 939 0104 FFF7FEFF 		bl	__aeabi_f2d
 940              	.LVL113:
 941 0108 3246     		mov	r2, r6
 942 010a 3B46     		mov	r3, r7
 943 010c FFF7FEFF 		bl	atan2
 944              	.LVL114:
 945              		.loc 1 318 10 discriminator 1 view .LVU219
 946 0110 FFF7FEFF 		bl	__aeabi_d2f
 947              	.LVL115:
 948              		.loc 1 318 8 discriminator 1 view .LVU220
 949 0114 2860     		str	r0, [r5]	@ float
 319:Core/Src/main.c **** }
 950              		.loc 1 319 1 view .LVU221
 951 0116 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 952              		.loc 1 319 1 view .LVU222
 953              		.cfi_endproc
 954              	.LFE72:
 956              		.section	.text.kalmanInit,"ax",%progbits
 957              		.align	1
 958              		.global	kalmanInit
 959              		.syntax unified
 960              		.thumb
 961              		.thumb_func
 963              	kalmanInit:
 964              	.LVL116:
 965              	.LFB73:
 320:Core/Src/main.c **** 
 321:Core/Src/main.c **** void kalmanInit(KalmanFilter *filter, float Q_angle, float Q_bias, float R_measure) 
 322:Core/Src/main.c **** {
 966              		.loc 1 322 1 is_stmt 1 view -0
 967              		.cfi_startproc
 968              		@ args = 0, pretend = 0, frame = 0
 969              		@ frame_needed = 0, uses_anonymous_args = 0
 970              		.loc 1 322 1 is_stmt 0 view .LVU224
 971 0000 00B5     		push	{lr}
 972              	.LCFI15:
 973              		.cfi_def_cfa_offset 4
 974              		.cfi_offset 14, -4
 323:Core/Src/main.c ****   filter->angle = 0.0f;
 975              		.loc 1 323 3 is_stmt 1 view .LVU225
 976              		.loc 1 323 17 is_stmt 0 view .LVU226
 977 0002 4FF0000C 		mov	ip, #0
 978 0006 C0F800C0 		str	ip, [r0]	@ float
 324:Core/Src/main.c ****   filter->bias = 0.0f;
 979              		.loc 1 324 3 is_stmt 1 view .LVU227
 980              		.loc 1 324 16 is_stmt 0 view .LVU228
 981 000a C0F804C0 		str	ip, [r0, #4]	@ float
 325:Core/Src/main.c ****   
 326:Core/Src/main.c ****   filter->P[0][0] = 1.0f;
 982              		.loc 1 326 3 is_stmt 1 view .LVU229
 983              		.loc 1 326 19 is_stmt 0 view .LVU230
 984 000e 4FF07E5E 		mov	lr, #1065353216
 985 0012 C0F808E0 		str	lr, [r0, #8]	@ float
 327:Core/Src/main.c ****   filter->P[0][1] = 0.0f;
 986              		.loc 1 327 3 is_stmt 1 view .LVU231
 987              		.loc 1 327 19 is_stmt 0 view .LVU232
 988 0016 C0F80CC0 		str	ip, [r0, #12]	@ float
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 24


 328:Core/Src/main.c ****   filter->P[1][0] = 0.0f;
 989              		.loc 1 328 3 is_stmt 1 view .LVU233
 990              		.loc 1 328 19 is_stmt 0 view .LVU234
 991 001a C0F810C0 		str	ip, [r0, #16]	@ float
 329:Core/Src/main.c ****   filter->P[1][1] = 1.0f;
 992              		.loc 1 329 3 is_stmt 1 view .LVU235
 993              		.loc 1 329 19 is_stmt 0 view .LVU236
 994 001e C0F814E0 		str	lr, [r0, #20]	@ float
 330:Core/Src/main.c ****   
 331:Core/Src/main.c ****   filter->Q_angle = Q_angle;
 995              		.loc 1 331 3 is_stmt 1 view .LVU237
 996              		.loc 1 331 19 is_stmt 0 view .LVU238
 997 0022 8161     		str	r1, [r0, #24]	@ float
 332:Core/Src/main.c ****   filter->Q_bias = Q_bias;
 998              		.loc 1 332 3 is_stmt 1 view .LVU239
 999              		.loc 1 332 18 is_stmt 0 view .LVU240
 1000 0024 C261     		str	r2, [r0, #28]	@ float
 333:Core/Src/main.c ****   filter->R_measure = R_measure;
 1001              		.loc 1 333 3 is_stmt 1 view .LVU241
 1002              		.loc 1 333 21 is_stmt 0 view .LVU242
 1003 0026 0362     		str	r3, [r0, #32]	@ float
 334:Core/Src/main.c **** }
 1004              		.loc 1 334 1 view .LVU243
 1005 0028 5DF804FB 		ldr	pc, [sp], #4
 1006              		.cfi_endproc
 1007              	.LFE73:
 1009              		.section	.text.kalmanUpdate,"ax",%progbits
 1010              		.align	1
 1011              		.global	kalmanUpdate
 1012              		.syntax unified
 1013              		.thumb
 1014              		.thumb_func
 1016              	kalmanUpdate:
 1017              	.LVL117:
 1018              	.LFB74:
 335:Core/Src/main.c **** 
 336:Core/Src/main.c **** float kalmanUpdate(KalmanFilter *filter, float newAngle, float newRate, float dt)
 337:Core/Src/main.c **** {
 1019              		.loc 1 337 1 is_stmt 1 view -0
 1020              		.cfi_startproc
 1021              		@ args = 0, pretend = 0, frame = 24
 1022              		@ frame_needed = 0, uses_anonymous_args = 0
 1023              		.loc 1 337 1 is_stmt 0 view .LVU245
 1024 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1025              	.LCFI16:
 1026              		.cfi_def_cfa_offset 36
 1027              		.cfi_offset 4, -36
 1028              		.cfi_offset 5, -32
 1029              		.cfi_offset 6, -28
 1030              		.cfi_offset 7, -24
 1031              		.cfi_offset 8, -20
 1032              		.cfi_offset 9, -16
 1033              		.cfi_offset 10, -12
 1034              		.cfi_offset 11, -8
 1035              		.cfi_offset 14, -4
 1036 0004 87B0     		sub	sp, sp, #28
 1037              	.LCFI17:
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 25


 1038              		.cfi_def_cfa_offset 64
 1039 0006 0446     		mov	r4, r0
 1040 0008 0291     		str	r1, [sp, #8]	@ float
 1041 000a 1F46     		mov	r7, r3
 338:Core/Src/main.c ****   // 预测步骤
 339:Core/Src/main.c ****   filter->angle += dt * (newRate - filter->bias);
 1042              		.loc 1 339 3 is_stmt 1 view .LVU246
 1043              		.loc 1 339 9 is_stmt 0 view .LVU247
 1044 000c 0568     		ldr	r5, [r0]	@ float
 1045              		.loc 1 339 42 view .LVU248
 1046 000e D0F80490 		ldr	r9, [r0, #4]	@ float
 1047              		.loc 1 339 34 view .LVU249
 1048 0012 4946     		mov	r1, r9
 1049              	.LVL118:
 1050              		.loc 1 339 34 view .LVU250
 1051 0014 1046     		mov	r0, r2
 1052              	.LVL119:
 1053              		.loc 1 339 34 view .LVU251
 1054 0016 FFF7FEFF 		bl	__aeabi_fsub
 1055              	.LVL120:
 1056              		.loc 1 339 23 view .LVU252
 1057 001a 3946     		mov	r1, r7
 1058 001c FFF7FEFF 		bl	__aeabi_fmul
 1059              	.LVL121:
 1060 0020 0146     		mov	r1, r0
 1061              		.loc 1 339 17 view .LVU253
 1062 0022 2846     		mov	r0, r5
 1063 0024 FFF7FEFF 		bl	__aeabi_fadd
 1064              	.LVL122:
 1065 0028 8046     		mov	r8, r0
 1066 002a 2060     		str	r0, [r4]	@ float
 340:Core/Src/main.c ****   
 341:Core/Src/main.c ****   filter->P[0][0] += dt * (dt * filter->P[1][1] - filter->P[0][1] - filter->P[1][0] + filter->Q_ang
 1067              		.loc 1 341 3 is_stmt 1 view .LVU254
 1068              		.loc 1 341 15 is_stmt 0 view .LVU255
 1069 002c A568     		ldr	r5, [r4, #8]	@ float
 1070              		.loc 1 341 45 view .LVU256
 1071 002e D4F814A0 		ldr	r10, [r4, #20]	@ float
 1072              		.loc 1 341 31 view .LVU257
 1073 0032 3946     		mov	r1, r7
 1074 0034 5046     		mov	r0, r10
 1075 0036 FFF7FEFF 		bl	__aeabi_fmul
 1076              	.LVL123:
 1077 003a 0190     		str	r0, [sp, #4]	@ float
 1078              		.loc 1 341 63 view .LVU258
 1079 003c E668     		ldr	r6, [r4, #12]	@ float
 1080              		.loc 1 341 49 view .LVU259
 1081 003e 3146     		mov	r1, r6
 1082 0040 FFF7FEFF 		bl	__aeabi_fsub
 1083              	.LVL124:
 1084              		.loc 1 341 81 view .LVU260
 1085 0044 D4F810B0 		ldr	fp, [r4, #16]	@ float
 1086              		.loc 1 341 67 view .LVU261
 1087 0048 5946     		mov	r1, fp
 1088 004a FFF7FEFF 		bl	__aeabi_fsub
 1089              	.LVL125:
 1090              		.loc 1 341 85 view .LVU262
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 26


 1091 004e A169     		ldr	r1, [r4, #24]	@ float
 1092 0050 FFF7FEFF 		bl	__aeabi_fadd
 1093              	.LVL126:
 1094              		.loc 1 341 25 view .LVU263
 1095 0054 3946     		mov	r1, r7
 1096 0056 FFF7FEFF 		bl	__aeabi_fmul
 1097              	.LVL127:
 1098 005a 0146     		mov	r1, r0
 1099              		.loc 1 341 19 view .LVU264
 1100 005c 2846     		mov	r0, r5
 1101 005e FFF7FEFF 		bl	__aeabi_fadd
 1102              	.LVL128:
 1103 0062 0546     		mov	r5, r0
 1104 0064 A060     		str	r0, [r4, #8]	@ float
 342:Core/Src/main.c ****   filter->P[0][1] -= dt * filter->P[1][1];
 1105              		.loc 1 342 3 is_stmt 1 view .LVU265
 1106              		.loc 1 342 19 is_stmt 0 view .LVU266
 1107 0066 0199     		ldr	r1, [sp, #4]	@ float
 1108 0068 3046     		mov	r0, r6
 1109 006a FFF7FEFF 		bl	__aeabi_fsub
 1110              	.LVL129:
 1111 006e 0646     		mov	r6, r0
 1112 0070 E060     		str	r0, [r4, #12]	@ float
 343:Core/Src/main.c ****   filter->P[1][0] -= dt * filter->P[1][1];
 1113              		.loc 1 343 3 is_stmt 1 view .LVU267
 1114              		.loc 1 343 19 is_stmt 0 view .LVU268
 1115 0072 0199     		ldr	r1, [sp, #4]	@ float
 1116 0074 5846     		mov	r0, fp
 1117 0076 FFF7FEFF 		bl	__aeabi_fsub
 1118              	.LVL130:
 1119 007a 8346     		mov	fp, r0
 1120 007c 2061     		str	r0, [r4, #16]	@ float
 344:Core/Src/main.c ****   filter->P[1][1] += filter->Q_bias * dt;
 1121              		.loc 1 344 3 is_stmt 1 view .LVU269
 1122              		.loc 1 344 37 is_stmt 0 view .LVU270
 1123 007e 3946     		mov	r1, r7
 1124 0080 E069     		ldr	r0, [r4, #28]	@ float
 1125 0082 FFF7FEFF 		bl	__aeabi_fmul
 1126              	.LVL131:
 1127 0086 0146     		mov	r1, r0
 1128              		.loc 1 344 19 view .LVU271
 1129 0088 5046     		mov	r0, r10
 1130 008a FFF7FEFF 		bl	__aeabi_fadd
 1131              	.LVL132:
 1132 008e 0390     		str	r0, [sp, #12]	@ float
 1133 0090 6061     		str	r0, [r4, #20]	@ float
 345:Core/Src/main.c ****   
 346:Core/Src/main.c ****   // 更新步骤
 347:Core/Src/main.c ****   float y = newAngle - filter->angle;
 1134              		.loc 1 347 3 is_stmt 1 view .LVU272
 1135              		.loc 1 347 9 is_stmt 0 view .LVU273
 1136 0092 4146     		mov	r1, r8
 1137 0094 0298     		ldr	r0, [sp, #8]	@ float
 1138 0096 FFF7FEFF 		bl	__aeabi_fsub
 1139              	.LVL133:
 1140 009a 0190     		str	r0, [sp, #4]	@ float
 1141              	.LVL134:
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 27


 348:Core/Src/main.c ****   float S = filter->P[0][0] + filter->R_measure;
 1142              		.loc 1 348 3 is_stmt 1 view .LVU274
 1143              		.loc 1 348 9 is_stmt 0 view .LVU275
 1144 009c 216A     		ldr	r1, [r4, #32]	@ float
 1145 009e 2846     		mov	r0, r5
 1146              	.LVL135:
 1147              		.loc 1 348 9 view .LVU276
 1148 00a0 FFF7FEFF 		bl	__aeabi_fadd
 1149              	.LVL136:
 1150 00a4 0746     		mov	r7, r0
 1151              	.LVL137:
 349:Core/Src/main.c ****   float K[2];
 1152              		.loc 1 349 3 is_stmt 1 view .LVU277
 350:Core/Src/main.c ****   K[0] = filter->P[0][0] / S;
 1153              		.loc 1 350 3 view .LVU278
 1154              		.loc 1 350 26 is_stmt 0 view .LVU279
 1155 00a6 0146     		mov	r1, r0
 1156 00a8 2846     		mov	r0, r5
 1157              	.LVL138:
 1158              		.loc 1 350 26 view .LVU280
 1159 00aa FFF7FEFF 		bl	__aeabi_fdiv
 1160              	.LVL139:
 1161              		.loc 1 350 26 view .LVU281
 1162 00ae 8246     		mov	r10, r0
 1163              		.loc 1 350 8 view .LVU282
 1164 00b0 0490     		str	r0, [sp, #16]	@ float
 351:Core/Src/main.c ****   K[1] = filter->P[1][0] / S;
 1165              		.loc 1 351 3 is_stmt 1 view .LVU283
 1166              		.loc 1 351 26 is_stmt 0 view .LVU284
 1167 00b2 3946     		mov	r1, r7
 1168 00b4 5846     		mov	r0, fp
 1169 00b6 FFF7FEFF 		bl	__aeabi_fdiv
 1170              	.LVL140:
 1171 00ba 0746     		mov	r7, r0
 1172              	.LVL141:
 1173              		.loc 1 351 8 view .LVU285
 1174 00bc 0590     		str	r0, [sp, #20]	@ float
 352:Core/Src/main.c ****   
 353:Core/Src/main.c ****   filter->angle += K[0] * y;
 1175              		.loc 1 353 3 is_stmt 1 view .LVU286
 1176              		.loc 1 353 25 is_stmt 0 view .LVU287
 1177 00be 0199     		ldr	r1, [sp, #4]	@ float
 1178 00c0 5046     		mov	r0, r10
 1179 00c2 FFF7FEFF 		bl	__aeabi_fmul
 1180              	.LVL142:
 1181 00c6 0146     		mov	r1, r0
 1182              		.loc 1 353 17 view .LVU288
 1183 00c8 4046     		mov	r0, r8
 1184 00ca FFF7FEFF 		bl	__aeabi_fadd
 1185              	.LVL143:
 1186 00ce 8046     		mov	r8, r0
 1187 00d0 2060     		str	r0, [r4]	@ float
 354:Core/Src/main.c ****   filter->bias += K[1] * y;
 1188              		.loc 1 354 3 is_stmt 1 view .LVU289
 1189              		.loc 1 354 24 is_stmt 0 view .LVU290
 1190 00d2 0199     		ldr	r1, [sp, #4]	@ float
 1191 00d4 3846     		mov	r0, r7
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 28


 1192 00d6 FFF7FEFF 		bl	__aeabi_fmul
 1193              	.LVL144:
 1194 00da 0146     		mov	r1, r0
 1195              		.loc 1 354 16 view .LVU291
 1196 00dc 4846     		mov	r0, r9
 1197 00de FFF7FEFF 		bl	__aeabi_fadd
 1198              	.LVL145:
 1199 00e2 6060     		str	r0, [r4, #4]	@ float
 355:Core/Src/main.c ****   
 356:Core/Src/main.c ****   float P00_temp = filter->P[0][0];
 1200              		.loc 1 356 3 is_stmt 1 view .LVU292
 1201              	.LVL146:
 357:Core/Src/main.c ****   float P01_temp = filter->P[0][1];
 1202              		.loc 1 357 3 view .LVU293
 358:Core/Src/main.c ****   
 359:Core/Src/main.c ****   filter->P[0][0] -= K[0] * P00_temp;
 1203              		.loc 1 359 3 view .LVU294
 1204              		.loc 1 359 27 is_stmt 0 view .LVU295
 1205 00e4 5146     		mov	r1, r10
 1206 00e6 2846     		mov	r0, r5
 1207 00e8 FFF7FEFF 		bl	__aeabi_fmul
 1208              	.LVL147:
 1209 00ec 0146     		mov	r1, r0
 1210              		.loc 1 359 19 view .LVU296
 1211 00ee 2846     		mov	r0, r5
 1212 00f0 FFF7FEFF 		bl	__aeabi_fsub
 1213              	.LVL148:
 1214 00f4 A060     		str	r0, [r4, #8]	@ float
 360:Core/Src/main.c ****   filter->P[0][1] -= K[0] * P01_temp;
 1215              		.loc 1 360 3 is_stmt 1 view .LVU297
 1216              		.loc 1 360 27 is_stmt 0 view .LVU298
 1217 00f6 5146     		mov	r1, r10
 1218 00f8 3046     		mov	r0, r6
 1219 00fa FFF7FEFF 		bl	__aeabi_fmul
 1220              	.LVL149:
 1221 00fe 0146     		mov	r1, r0
 1222              		.loc 1 360 19 view .LVU299
 1223 0100 3046     		mov	r0, r6
 1224 0102 FFF7FEFF 		bl	__aeabi_fsub
 1225              	.LVL150:
 1226 0106 E060     		str	r0, [r4, #12]	@ float
 361:Core/Src/main.c ****   filter->P[1][0] -= K[1] * P00_temp;
 1227              		.loc 1 361 3 is_stmt 1 view .LVU300
 1228              		.loc 1 361 27 is_stmt 0 view .LVU301
 1229 0108 3946     		mov	r1, r7
 1230 010a 2846     		mov	r0, r5
 1231 010c FFF7FEFF 		bl	__aeabi_fmul
 1232              	.LVL151:
 1233 0110 0146     		mov	r1, r0
 1234              		.loc 1 361 19 view .LVU302
 1235 0112 5846     		mov	r0, fp
 1236 0114 FFF7FEFF 		bl	__aeabi_fsub
 1237              	.LVL152:
 1238 0118 2061     		str	r0, [r4, #16]	@ float
 362:Core/Src/main.c ****   filter->P[1][1] -= K[1] * P01_temp;
 1239              		.loc 1 362 3 is_stmt 1 view .LVU303
 1240              		.loc 1 362 27 is_stmt 0 view .LVU304
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 29


 1241 011a 3946     		mov	r1, r7
 1242 011c 3046     		mov	r0, r6
 1243 011e FFF7FEFF 		bl	__aeabi_fmul
 1244              	.LVL153:
 1245 0122 0146     		mov	r1, r0
 1246              		.loc 1 362 19 view .LVU305
 1247 0124 0398     		ldr	r0, [sp, #12]	@ float
 1248 0126 FFF7FEFF 		bl	__aeabi_fsub
 1249              	.LVL154:
 1250 012a 6061     		str	r0, [r4, #20]	@ float
 363:Core/Src/main.c ****   
 364:Core/Src/main.c ****   return filter->angle;
 1251              		.loc 1 364 3 is_stmt 1 view .LVU306
 365:Core/Src/main.c **** }
 1252              		.loc 1 365 1 is_stmt 0 view .LVU307
 1253 012c 4046     		mov	r0, r8
 1254 012e 07B0     		add	sp, sp, #28
 1255              	.LCFI18:
 1256              		.cfi_def_cfa_offset 36
 1257              		@ sp needed
 1258 0130 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1259              		.loc 1 365 1 view .LVU308
 1260              		.cfi_endproc
 1261              	.LFE74:
 1263              		.global	__aeabi_ddiv
 1264              		.section	.text.calculateAccelAngles,"ax",%progbits
 1265              		.align	1
 1266              		.global	calculateAccelAngles
 1267              		.syntax unified
 1268              		.thumb
 1269              		.thumb_func
 1271              	calculateAccelAngles:
 1272              	.LVL155:
 1273              	.LFB75:
 366:Core/Src/main.c **** 
 367:Core/Src/main.c **** // 从加速度计数据计算角度
 368:Core/Src/main.c **** void calculateAccelAngles(float *accel_roll, float *accel_pitch) 
 369:Core/Src/main.c **** {
 1274              		.loc 1 369 1 is_stmt 1 view -0
 1275              		.cfi_startproc
 1276              		@ args = 0, pretend = 0, frame = 0
 1277              		@ frame_needed = 0, uses_anonymous_args = 0
 1278              		.loc 1 369 1 is_stmt 0 view .LVU310
 1279 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1280              	.LCFI19:
 1281              		.cfi_def_cfa_offset 24
 1282              		.cfi_offset 4, -24
 1283              		.cfi_offset 5, -20
 1284              		.cfi_offset 6, -16
 1285              		.cfi_offset 7, -12
 1286              		.cfi_offset 8, -8
 1287              		.cfi_offset 14, -4
 1288 0004 8046     		mov	r8, r0
 1289 0006 0F46     		mov	r7, r1
 370:Core/Src/main.c ****   // 将原始整数值转换为物理量
 371:Core/Src/main.c ****   float accel_factor = 16384.0f; // 对于±2g量程
 1290              		.loc 1 371 3 is_stmt 1 view .LVU311
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 30


 1291              	.LVL156:
 372:Core/Src/main.c ****   float ax = MPU6050_Data.accel_x / accel_factor;
 1292              		.loc 1 372 3 view .LVU312
 1293              		.loc 1 372 26 is_stmt 0 view .LVU313
 1294 0008 2B4D     		ldr	r5, .L25+8
 1295              		.loc 1 372 35 view .LVU314
 1296 000a B5F90000 		ldrsh	r0, [r5]
 1297              	.LVL157:
 1298              		.loc 1 372 35 view .LVU315
 1299 000e FFF7FEFF 		bl	__aeabi_i2f
 1300              	.LVL158:
 1301              		.loc 1 372 9 view .LVU316
 1302 0012 4FF06251 		mov	r1, #947912704
 1303 0016 FFF7FEFF 		bl	__aeabi_fmul
 1304              	.LVL159:
 1305 001a 0446     		mov	r4, r0
 1306              	.LVL160:
 373:Core/Src/main.c ****   float ay = MPU6050_Data.accel_y / accel_factor;
 1307              		.loc 1 373 3 is_stmt 1 view .LVU317
 1308              		.loc 1 373 35 is_stmt 0 view .LVU318
 1309 001c B5F90200 		ldrsh	r0, [r5, #2]
 1310              	.LVL161:
 1311              		.loc 1 373 35 view .LVU319
 1312 0020 FFF7FEFF 		bl	__aeabi_i2f
 1313              	.LVL162:
 1314              		.loc 1 373 9 view .LVU320
 1315 0024 4FF06251 		mov	r1, #947912704
 1316 0028 FFF7FEFF 		bl	__aeabi_fmul
 1317              	.LVL163:
 1318 002c 0646     		mov	r6, r0
 1319              	.LVL164:
 374:Core/Src/main.c ****   float az = MPU6050_Data.accel_z / accel_factor;
 1320              		.loc 1 374 3 is_stmt 1 view .LVU321
 1321              		.loc 1 374 35 is_stmt 0 view .LVU322
 1322 002e B5F90400 		ldrsh	r0, [r5, #4]
 1323              	.LVL165:
 1324              		.loc 1 374 35 view .LVU323
 1325 0032 FFF7FEFF 		bl	__aeabi_i2f
 1326              	.LVL166:
 1327              		.loc 1 374 9 view .LVU324
 1328 0036 4FF06251 		mov	r1, #947912704
 1329 003a FFF7FEFF 		bl	__aeabi_fmul
 1330              	.LVL167:
 1331 003e 0546     		mov	r5, r0
 1332              	.LVL168:
 375:Core/Src/main.c ****   
 376:Core/Src/main.c ****   // 通过加速度计计算roll和pitch角度
 377:Core/Src/main.c ****   *accel_roll = atan2f(ay, az) * 180.0f / M_PI;
 1333              		.loc 1 377 3 is_stmt 1 view .LVU325
 1334              		.loc 1 377 17 is_stmt 0 view .LVU326
 1335 0040 0146     		mov	r1, r0
 1336 0042 3046     		mov	r0, r6
 1337              	.LVL169:
 1338              		.loc 1 377 17 view .LVU327
 1339 0044 FFF7FEFF 		bl	atan2f
 1340              	.LVL170:
 1341              		.loc 1 377 32 discriminator 1 view .LVU328
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 31


 1342 0048 1C49     		ldr	r1, .L25+12
 1343 004a FFF7FEFF 		bl	__aeabi_fmul
 1344              	.LVL171:
 1345 004e FFF7FEFF 		bl	__aeabi_f2d
 1346              	.LVL172:
 1347              		.loc 1 377 41 discriminator 1 view .LVU329
 1348 0052 17A3     		adr	r3, .L25
 1349 0054 D3E90023 		ldrd	r2, [r3]
 1350 0058 FFF7FEFF 		bl	__aeabi_ddiv
 1351              	.LVL173:
 1352 005c FFF7FEFF 		bl	__aeabi_d2f
 1353              	.LVL174:
 1354              		.loc 1 377 15 discriminator 1 view .LVU330
 1355 0060 C8F80000 		str	r0, [r8]	@ float
 378:Core/Src/main.c ****   *accel_pitch = atan2f(-ax, sqrtf(ay * ay + az * az)) * 180.0f / M_PI;
 1356              		.loc 1 378 3 is_stmt 1 view .LVU331
 1357              		.loc 1 378 39 is_stmt 0 view .LVU332
 1358 0064 3146     		mov	r1, r6
 1359 0066 3046     		mov	r0, r6
 1360 0068 FFF7FEFF 		bl	__aeabi_fmul
 1361              	.LVL175:
 1362 006c 0646     		mov	r6, r0
 1363              	.LVL176:
 1364              		.loc 1 378 49 view .LVU333
 1365 006e 2946     		mov	r1, r5
 1366 0070 2846     		mov	r0, r5
 1367 0072 FFF7FEFF 		bl	__aeabi_fmul
 1368              	.LVL177:
 1369 0076 0146     		mov	r1, r0
 1370              		.loc 1 378 18 view .LVU334
 1371 0078 3046     		mov	r0, r6
 1372 007a FFF7FEFF 		bl	__aeabi_fadd
 1373              	.LVL178:
 1374 007e FFF7FEFF 		bl	sqrtf
 1375              	.LVL179:
 1376 0082 0146     		mov	r1, r0
 1377 0084 04F10040 		add	r0, r4, #-2147483648
 1378              		.loc 1 378 18 discriminator 1 view .LVU335
 1379 0088 FFF7FEFF 		bl	atan2f
 1380              	.LVL180:
 1381              		.loc 1 378 56 discriminator 2 view .LVU336
 1382 008c 0B49     		ldr	r1, .L25+12
 1383 008e FFF7FEFF 		bl	__aeabi_fmul
 1384              	.LVL181:
 1385 0092 FFF7FEFF 		bl	__aeabi_f2d
 1386              	.LVL182:
 1387              		.loc 1 378 65 discriminator 2 view .LVU337
 1388 0096 06A3     		adr	r3, .L25
 1389 0098 D3E90023 		ldrd	r2, [r3]
 1390 009c FFF7FEFF 		bl	__aeabi_ddiv
 1391              	.LVL183:
 1392 00a0 FFF7FEFF 		bl	__aeabi_d2f
 1393              	.LVL184:
 1394              		.loc 1 378 16 discriminator 2 view .LVU338
 1395 00a4 3860     		str	r0, [r7]	@ float
 379:Core/Src/main.c **** }
 1396              		.loc 1 379 1 view .LVU339
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 32


 1397 00a6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1398              	.LVL185:
 1399              	.L26:
 1400              		.loc 1 379 1 view .LVU340
 1401 00aa 00BFAFF3 		.align	3
 1401      0080
 1402              	.L25:
 1403 00b0 4AD8124D 		.word	1293080650
 1404 00b4 FB210940 		.word	1074340347
 1405 00b8 00000000 		.word	MPU6050_Data
 1406 00bc 00003443 		.word	1127481344
 1407              		.cfi_endproc
 1408              	.LFE75:
 1410              		.section	.text.Error_Handler,"ax",%progbits
 1411              		.align	1
 1412              		.global	Error_Handler
 1413              		.syntax unified
 1414              		.thumb
 1415              		.thumb_func
 1417              	Error_Handler:
 1418              	.LFB76:
 380:Core/Src/main.c **** 
 381:Core/Src/main.c **** /* USER CODE END 4 */
 382:Core/Src/main.c **** 
 383:Core/Src/main.c **** /**
 384:Core/Src/main.c ****   * @brief  This function is executed in case of error occurrence.
 385:Core/Src/main.c ****   * @retval None
 386:Core/Src/main.c ****   */
 387:Core/Src/main.c **** void Error_Handler(void)
 388:Core/Src/main.c **** {
 1419              		.loc 1 388 1 is_stmt 1 view -0
 1420              		.cfi_startproc
 1421              		@ Volatile: function does not return.
 1422              		@ args = 0, pretend = 0, frame = 0
 1423              		@ frame_needed = 0, uses_anonymous_args = 0
 1424              		@ link register save eliminated.
 389:Core/Src/main.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 390:Core/Src/main.c ****   /* User can add his own implementation to report the HAL error return state */
 391:Core/Src/main.c ****   __disable_irq();
 1425              		.loc 1 391 3 view .LVU342
 1426              	.LBB4:
 1427              	.LBI4:
 1428              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 33


  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 34


  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 35


 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 1429              		.loc 2 140 27 view .LVU343
 1430              	.LBB5:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 1431              		.loc 2 142 3 view .LVU344
 1432              		.syntax unified
 1433              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1434 0000 72B6     		cpsid i
 1435              	@ 0 "" 2
 1436              		.thumb
 1437              		.syntax unified
 1438              	.L28:
 1439              	.LBE5:
 1440              	.LBE4:
 392:Core/Src/main.c ****   while (1)
 1441              		.loc 1 392 3 view .LVU345
 393:Core/Src/main.c ****   {
 394:Core/Src/main.c ****   }
 1442              		.loc 1 394 3 view .LVU346
 392:Core/Src/main.c ****   while (1)
 1443              		.loc 1 392 9 view .LVU347
 1444 0002 FEE7     		b	.L28
 1445              		.cfi_endproc
 1446              	.LFE76:
 1448              		.section	.text.SystemClock_Config,"ax",%progbits
 1449              		.align	1
 1450              		.global	SystemClock_Config
 1451              		.syntax unified
 1452              		.thumb
 1453              		.thumb_func
 1455              	SystemClock_Config:
 1456              	.LFB66:
 205:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1457              		.loc 1 205 1 view -0
 1458              		.cfi_startproc
 1459              		@ args = 0, pretend = 0, frame = 64
 1460              		@ frame_needed = 0, uses_anonymous_args = 0
 1461 0000 00B5     		push	{lr}
 1462              	.LCFI20:
 1463              		.cfi_def_cfa_offset 4
 1464              		.cfi_offset 14, -4
 1465 0002 91B0     		sub	sp, sp, #68
 1466              	.LCFI21:
 1467              		.cfi_def_cfa_offset 72
 206:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 36


 1468              		.loc 1 206 3 view .LVU349
 206:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1469              		.loc 1 206 22 is_stmt 0 view .LVU350
 1470 0004 2822     		movs	r2, #40
 1471 0006 0021     		movs	r1, #0
 1472 0008 06A8     		add	r0, sp, #24
 1473 000a FFF7FEFF 		bl	memset
 1474              	.LVL186:
 207:Core/Src/main.c **** 
 1475              		.loc 1 207 3 is_stmt 1 view .LVU351
 207:Core/Src/main.c **** 
 1476              		.loc 1 207 22 is_stmt 0 view .LVU352
 1477 000e 0023     		movs	r3, #0
 1478 0010 0193     		str	r3, [sp, #4]
 1479 0012 0293     		str	r3, [sp, #8]
 1480 0014 0393     		str	r3, [sp, #12]
 1481 0016 0493     		str	r3, [sp, #16]
 1482 0018 0593     		str	r3, [sp, #20]
 212:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1483              		.loc 1 212 3 is_stmt 1 view .LVU353
 212:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1484              		.loc 1 212 36 is_stmt 0 view .LVU354
 1485 001a 0122     		movs	r2, #1
 1486 001c 0692     		str	r2, [sp, #24]
 213:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1487              		.loc 1 213 3 is_stmt 1 view .LVU355
 213:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1488              		.loc 1 213 30 is_stmt 0 view .LVU356
 1489 001e 4FF48033 		mov	r3, #65536
 1490 0022 0793     		str	r3, [sp, #28]
 214:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1491              		.loc 1 214 3 is_stmt 1 view .LVU357
 215:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1492              		.loc 1 215 3 view .LVU358
 215:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1493              		.loc 1 215 30 is_stmt 0 view .LVU359
 1494 0024 0A92     		str	r2, [sp, #40]
 216:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1495              		.loc 1 216 3 is_stmt 1 view .LVU360
 216:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1496              		.loc 1 216 34 is_stmt 0 view .LVU361
 1497 0026 0222     		movs	r2, #2
 1498 0028 0D92     		str	r2, [sp, #52]
 217:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1499              		.loc 1 217 3 is_stmt 1 view .LVU362
 217:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1500              		.loc 1 217 35 is_stmt 0 view .LVU363
 1501 002a 0E93     		str	r3, [sp, #56]
 218:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1502              		.loc 1 218 3 is_stmt 1 view .LVU364
 218:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1503              		.loc 1 218 32 is_stmt 0 view .LVU365
 1504 002c 4FF4E013 		mov	r3, #1835008
 1505 0030 0F93     		str	r3, [sp, #60]
 219:Core/Src/main.c ****   {
 1506              		.loc 1 219 3 is_stmt 1 view .LVU366
 219:Core/Src/main.c ****   {
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 37


 1507              		.loc 1 219 7 is_stmt 0 view .LVU367
 1508 0032 06A8     		add	r0, sp, #24
 1509 0034 FFF7FEFF 		bl	HAL_RCC_OscConfig
 1510              	.LVL187:
 219:Core/Src/main.c ****   {
 1511              		.loc 1 219 6 discriminator 1 view .LVU368
 1512 0038 80B9     		cbnz	r0, .L33
 226:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1513              		.loc 1 226 3 is_stmt 1 view .LVU369
 226:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1514              		.loc 1 226 31 is_stmt 0 view .LVU370
 1515 003a 0F23     		movs	r3, #15
 1516 003c 0193     		str	r3, [sp, #4]
 228:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1517              		.loc 1 228 3 is_stmt 1 view .LVU371
 228:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1518              		.loc 1 228 34 is_stmt 0 view .LVU372
 1519 003e 0221     		movs	r1, #2
 1520 0040 0291     		str	r1, [sp, #8]
 229:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1521              		.loc 1 229 3 is_stmt 1 view .LVU373
 229:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1522              		.loc 1 229 35 is_stmt 0 view .LVU374
 1523 0042 0023     		movs	r3, #0
 1524 0044 0393     		str	r3, [sp, #12]
 230:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1525              		.loc 1 230 3 is_stmt 1 view .LVU375
 230:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1526              		.loc 1 230 36 is_stmt 0 view .LVU376
 1527 0046 4FF48062 		mov	r2, #1024
 1528 004a 0492     		str	r2, [sp, #16]
 231:Core/Src/main.c **** 
 1529              		.loc 1 231 3 is_stmt 1 view .LVU377
 231:Core/Src/main.c **** 
 1530              		.loc 1 231 36 is_stmt 0 view .LVU378
 1531 004c 0593     		str	r3, [sp, #20]
 233:Core/Src/main.c ****   {
 1532              		.loc 1 233 3 is_stmt 1 view .LVU379
 233:Core/Src/main.c ****   {
 1533              		.loc 1 233 7 is_stmt 0 view .LVU380
 1534 004e 01A8     		add	r0, sp, #4
 1535 0050 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1536              	.LVL188:
 233:Core/Src/main.c ****   {
 1537              		.loc 1 233 6 discriminator 1 view .LVU381
 1538 0054 20B9     		cbnz	r0, .L34
 237:Core/Src/main.c **** 
 1539              		.loc 1 237 1 view .LVU382
 1540 0056 11B0     		add	sp, sp, #68
 1541              	.LCFI22:
 1542              		.cfi_remember_state
 1543              		.cfi_def_cfa_offset 4
 1544              		@ sp needed
 1545 0058 5DF804FB 		ldr	pc, [sp], #4
 1546              	.L33:
 1547              	.LCFI23:
 1548              		.cfi_restore_state
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 38


 221:Core/Src/main.c ****   }
 1549              		.loc 1 221 5 is_stmt 1 view .LVU383
 1550 005c FFF7FEFF 		bl	Error_Handler
 1551              	.LVL189:
 1552              	.L34:
 235:Core/Src/main.c ****   }
 1553              		.loc 1 235 5 view .LVU384
 1554 0060 FFF7FEFF 		bl	Error_Handler
 1555              	.LVL190:
 1556              		.cfi_endproc
 1557              	.LFE66:
 1559              		.section	.text.main,"ax",%progbits
 1560              		.align	1
 1561              		.global	main
 1562              		.syntax unified
 1563              		.thumb
 1564              		.thumb_func
 1566              	main:
 1567              	.LFB65:
 109:Core/Src/main.c **** 
 1568              		.loc 1 109 1 view -0
 1569              		.cfi_startproc
 1570              		@ args = 0, pretend = 0, frame = 8
 1571              		@ frame_needed = 0, uses_anonymous_args = 0
 1572 0000 70B5     		push	{r4, r5, r6, lr}
 1573              	.LCFI24:
 1574              		.cfi_def_cfa_offset 16
 1575              		.cfi_offset 4, -16
 1576              		.cfi_offset 5, -12
 1577              		.cfi_offset 6, -8
 1578              		.cfi_offset 14, -4
 1579 0002 84B0     		sub	sp, sp, #16
 1580              	.LCFI25:
 1581              		.cfi_def_cfa_offset 32
 118:Core/Src/main.c **** 
 1582              		.loc 1 118 3 view .LVU386
 1583 0004 FFF7FEFF 		bl	HAL_Init
 1584              	.LVL191:
 125:Core/Src/main.c **** 
 1585              		.loc 1 125 3 view .LVU387
 1586 0008 FFF7FEFF 		bl	SystemClock_Config
 1587              	.LVL192:
 132:Core/Src/main.c ****   MX_I2C1_Init();
 1588              		.loc 1 132 3 view .LVU388
 1589 000c FFF7FEFF 		bl	MX_GPIO_Init
 1590              	.LVL193:
 133:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 1591              		.loc 1 133 3 view .LVU389
 1592 0010 FFF7FEFF 		bl	MX_I2C1_Init
 1593              	.LVL194:
 136:Core/Src/main.c **** 
 1594              		.loc 1 136 3 view .LVU390
 1595 0014 4820     		movs	r0, #72
 1596 0016 FFF7FEFF 		bl	DWT_Init
 1597              	.LVL195:
 138:Core/Src/main.c ****   void MPU6050_read_data(void);
 1598              		.loc 1 138 3 view .LVU391
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 39


 139:Core/Src/main.c **** 
 1599              		.loc 1 139 3 view .LVU392
 141:Core/Src/main.c ****   Quaternion multiplyQuaternions(const Quaternion *q1, const Quaternion *q2);
 1600              		.loc 1 141 3 view .LVU393
 142:Core/Src/main.c ****   void updateQuaternion(Quaternion *q, int16_t gx, int16_t gy, int16_t gz, float dt);
 1601              		.loc 1 142 3 view .LVU394
 143:Core/Src/main.c ****   void calculateAngles(Quaternion *q, float *roll, float *pitch, float *yaw);
 1602              		.loc 1 143 3 view .LVU395
 144:Core/Src/main.c **** 
 1603              		.loc 1 144 3 view .LVU396
 146:Core/Src/main.c ****   kalmanInit(&rollKalman, 0.001f, 0.003f, 0.03f);
 1604              		.loc 1 146 3 view .LVU397
 147:Core/Src/main.c ****   kalmanInit(&pitchKalman, 0.001f, 0.003f, 0.03f);
 1605              		.loc 1 147 3 view .LVU398
 1606 001a 314E     		ldr	r6, .L38
 1607 001c 314D     		ldr	r5, .L38+4
 1608 001e 324C     		ldr	r4, .L38+8
 1609 0020 3346     		mov	r3, r6
 1610 0022 2A46     		mov	r2, r5
 1611 0024 2146     		mov	r1, r4
 1612 0026 3148     		ldr	r0, .L38+12
 1613 0028 FFF7FEFF 		bl	kalmanInit
 1614              	.LVL196:
 148:Core/Src/main.c ****   kalmanInit(&yawKalman, 0.001f, 0.003f, 0.03f);
 1615              		.loc 1 148 3 view .LVU399
 1616 002c 3346     		mov	r3, r6
 1617 002e 2A46     		mov	r2, r5
 1618 0030 2146     		mov	r1, r4
 1619 0032 2F48     		ldr	r0, .L38+16
 1620 0034 FFF7FEFF 		bl	kalmanInit
 1621              	.LVL197:
 149:Core/Src/main.c ****   float kalmanUpdate(KalmanFilter *filter, float newAngle, float newRate, float dt);
 1622              		.loc 1 149 3 view .LVU400
 1623 0038 3346     		mov	r3, r6
 1624 003a 2A46     		mov	r2, r5
 1625 003c 2146     		mov	r1, r4
 1626 003e 2D48     		ldr	r0, .L38+20
 1627 0040 FFF7FEFF 		bl	kalmanInit
 1628              	.LVL198:
 150:Core/Src/main.c ****   void calculateAccelAngles(float *accel_roll, float *accel_pitch); 
 1629              		.loc 1 150 3 view .LVU401
 151:Core/Src/main.c ****   
 1630              		.loc 1 151 3 view .LVU402
 153:Core/Src/main.c ****   q.x = 0.0f;
 1631              		.loc 1 153 3 view .LVU403
 153:Core/Src/main.c ****   q.x = 0.0f;
 1632              		.loc 1 153 7 is_stmt 0 view .LVU404
 1633 0044 2C4B     		ldr	r3, .L38+24
 1634 0046 4FF07E52 		mov	r2, #1065353216
 1635 004a 1A60     		str	r2, [r3]	@ float
 154:Core/Src/main.c ****   q.y = 0.0f;
 1636              		.loc 1 154 3 is_stmt 1 view .LVU405
 154:Core/Src/main.c ****   q.y = 0.0f;
 1637              		.loc 1 154 7 is_stmt 0 view .LVU406
 1638 004c 0022     		movs	r2, #0
 1639 004e 5A60     		str	r2, [r3, #4]	@ float
 155:Core/Src/main.c ****   q.z = 0.0f;
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 40


 1640              		.loc 1 155 3 is_stmt 1 view .LVU407
 155:Core/Src/main.c ****   q.z = 0.0f;
 1641              		.loc 1 155 7 is_stmt 0 view .LVU408
 1642 0050 9A60     		str	r2, [r3, #8]	@ float
 156:Core/Src/main.c ****   /* USER CODE END 2 */
 1643              		.loc 1 156 3 is_stmt 1 view .LVU409
 156:Core/Src/main.c ****   /* USER CODE END 2 */
 1644              		.loc 1 156 7 is_stmt 0 view .LVU410
 1645 0052 DA60     		str	r2, [r3, #12]	@ float
 1646              	.L36:
 161:Core/Src/main.c ****   {
 1647              		.loc 1 161 3 is_stmt 1 view .LVU411
 1648              	.LBB6:
 163:Core/Src/main.c ****     MPU6050_read_data();
 1649              		.loc 1 163 5 view .LVU412
 163:Core/Src/main.c ****     MPU6050_read_data();
 1650              		.loc 1 163 10 is_stmt 0 view .LVU413
 1651 0054 2948     		ldr	r0, .L38+28
 1652 0056 FFF7FEFF 		bl	DWT_GetDeltaT
 1653              	.LVL199:
 163:Core/Src/main.c ****     MPU6050_read_data();
 1654              		.loc 1 163 8 discriminator 1 view .LVU414
 1655 005a 294D     		ldr	r5, .L38+32
 1656 005c 2860     		str	r0, [r5]	@ float
 164:Core/Src/main.c ****     
 1657              		.loc 1 164 5 is_stmt 1 view .LVU415
 1658 005e FFF7FEFF 		bl	MPU6050_read_data
 1659              	.LVL200:
 166:Core/Src/main.c ****     // calculateAngles(&q,&roll,&pitch,&yaw);
 1660              		.loc 1 166 5 view .LVU416
 1661 0062 284C     		ldr	r4, .L38+36
 1662 0064 2B68     		ldr	r3, [r5]	@ float
 1663 0066 0093     		str	r3, [sp]	@ float
 1664 0068 B4F90A30 		ldrsh	r3, [r4, #10]
 1665 006c B4F90820 		ldrsh	r2, [r4, #8]
 1666 0070 B4F90610 		ldrsh	r1, [r4, #6]
 1667 0074 2048     		ldr	r0, .L38+24
 1668 0076 FFF7FEFF 		bl	updateQuaternion
 1669              	.LVL201:
 170:Core/Src/main.c ****     calculateAccelAngles(&accel_roll, &accel_pitch);
 1670              		.loc 1 170 5 view .LVU417
 171:Core/Src/main.c **** 
 1671              		.loc 1 171 5 view .LVU418
 1672 007a 03A9     		add	r1, sp, #12
 1673 007c 02A8     		add	r0, sp, #8
 1674 007e FFF7FEFF 		bl	calculateAccelAngles
 1675              	.LVL202:
 174:Core/Src/main.c ****     float gyro_roll = MPU6050_Data.gyro_x / gyro_factor;
 1676              		.loc 1 174 5 view .LVU419
 175:Core/Src/main.c ****     float gyro_pitch = MPU6050_Data.gyro_y / gyro_factor;
 1677              		.loc 1 175 5 view .LVU420
 175:Core/Src/main.c ****     float gyro_pitch = MPU6050_Data.gyro_y / gyro_factor;
 1678              		.loc 1 175 43 is_stmt 0 view .LVU421
 1679 0082 B4F90600 		ldrsh	r0, [r4, #6]
 1680 0086 FFF7FEFF 		bl	__aeabi_i2f
 1681              	.LVL203:
 175:Core/Src/main.c ****     float gyro_pitch = MPU6050_Data.gyro_y / gyro_factor;
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 41


 1682              		.loc 1 175 11 view .LVU422
 1683 008a 1F49     		ldr	r1, .L38+40
 1684 008c FFF7FEFF 		bl	__aeabi_fdiv
 1685              	.LVL204:
 1686 0090 0646     		mov	r6, r0
 1687              	.LVL205:
 176:Core/Src/main.c ****     float gyro_yaw = MPU6050_Data.gyro_z / gyro_factor;
 1688              		.loc 1 176 5 is_stmt 1 view .LVU423
 176:Core/Src/main.c ****     float gyro_yaw = MPU6050_Data.gyro_z / gyro_factor;
 1689              		.loc 1 176 44 is_stmt 0 view .LVU424
 1690 0092 B4F90800 		ldrsh	r0, [r4, #8]
 1691              	.LVL206:
 176:Core/Src/main.c ****     float gyro_yaw = MPU6050_Data.gyro_z / gyro_factor;
 1692              		.loc 1 176 44 view .LVU425
 1693 0096 FFF7FEFF 		bl	__aeabi_i2f
 1694              	.LVL207:
 176:Core/Src/main.c ****     float gyro_yaw = MPU6050_Data.gyro_z / gyro_factor;
 1695              		.loc 1 176 11 view .LVU426
 1696 009a 1B49     		ldr	r1, .L38+40
 1697 009c FFF7FEFF 		bl	__aeabi_fdiv
 1698              	.LVL208:
 1699 00a0 0446     		mov	r4, r0
 1700              	.LVL209:
 177:Core/Src/main.c **** 
 1701              		.loc 1 177 5 is_stmt 1 view .LVU427
 180:Core/Src/main.c ****     filtered_pitch = kalmanUpdate(&pitchKalman, accel_pitch, gyro_pitch, dt);
 1702              		.loc 1 180 5 view .LVU428
 180:Core/Src/main.c ****     filtered_pitch = kalmanUpdate(&pitchKalman, accel_pitch, gyro_pitch, dt);
 1703              		.loc 1 180 21 is_stmt 0 view .LVU429
 1704 00a2 2B68     		ldr	r3, [r5]	@ float
 1705 00a4 3246     		mov	r2, r6
 1706 00a6 0299     		ldr	r1, [sp, #8]	@ float
 1707 00a8 1048     		ldr	r0, .L38+12
 1708              	.LVL210:
 180:Core/Src/main.c ****     filtered_pitch = kalmanUpdate(&pitchKalman, accel_pitch, gyro_pitch, dt);
 1709              		.loc 1 180 21 view .LVU430
 1710 00aa FFF7FEFF 		bl	kalmanUpdate
 1711              	.LVL211:
 180:Core/Src/main.c ****     filtered_pitch = kalmanUpdate(&pitchKalman, accel_pitch, gyro_pitch, dt);
 1712              		.loc 1 180 19 discriminator 1 view .LVU431
 1713 00ae 174E     		ldr	r6, .L38+44
 1714              	.LVL212:
 180:Core/Src/main.c ****     filtered_pitch = kalmanUpdate(&pitchKalman, accel_pitch, gyro_pitch, dt);
 1715              		.loc 1 180 19 discriminator 1 view .LVU432
 1716 00b0 3060     		str	r0, [r6]	@ float
 181:Core/Src/main.c **** 
 1717              		.loc 1 181 5 is_stmt 1 view .LVU433
 181:Core/Src/main.c **** 
 1718              		.loc 1 181 22 is_stmt 0 view .LVU434
 1719 00b2 2B68     		ldr	r3, [r5]	@ float
 1720 00b4 2246     		mov	r2, r4
 1721 00b6 0399     		ldr	r1, [sp, #12]	@ float
 1722 00b8 0D48     		ldr	r0, .L38+16
 1723 00ba FFF7FEFF 		bl	kalmanUpdate
 1724              	.LVL213:
 181:Core/Src/main.c **** 
 1725              		.loc 1 181 20 discriminator 1 view .LVU435
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 42


 1726 00be 144B     		ldr	r3, .L38+48
 1727 00c0 1860     		str	r0, [r3]	@ float
 185:Core/Src/main.c **** 
 1728              		.loc 1 185 5 is_stmt 1 view .LVU436
 185:Core/Src/main.c **** 
 1729              		.loc 1 185 18 is_stmt 0 view .LVU437
 1730 00c2 144B     		ldr	r3, .L38+52
 1731 00c4 1B68     		ldr	r3, [r3]	@ float
 1732 00c6 144A     		ldr	r2, .L38+56
 1733 00c8 1360     		str	r3, [r2]	@ float
 188:Core/Src/main.c ****     pitch = filtered_pitch;
 1734              		.loc 1 188 5 is_stmt 1 view .LVU438
 188:Core/Src/main.c ****     pitch = filtered_pitch;
 1735              		.loc 1 188 10 is_stmt 0 view .LVU439
 1736 00ca 3168     		ldr	r1, [r6]	@ float
 1737 00cc 134A     		ldr	r2, .L38+60
 1738 00ce 1160     		str	r1, [r2]	@ float
 189:Core/Src/main.c ****     yaw = filtered_yaw;
 1739              		.loc 1 189 5 is_stmt 1 view .LVU440
 189:Core/Src/main.c ****     yaw = filtered_yaw;
 1740              		.loc 1 189 11 is_stmt 0 view .LVU441
 1741 00d0 134A     		ldr	r2, .L38+64
 1742 00d2 1060     		str	r0, [r2]	@ float
 190:Core/Src/main.c **** 
 1743              		.loc 1 190 5 is_stmt 1 view .LVU442
 190:Core/Src/main.c **** 
 1744              		.loc 1 190 9 is_stmt 0 view .LVU443
 1745 00d4 134A     		ldr	r2, .L38+68
 1746 00d6 1360     		str	r3, [r2]	@ float
 195:Core/Src/main.c ****   }
 1747              		.loc 1 195 5 is_stmt 1 view .LVU444
 1748 00d8 0A20     		movs	r0, #10
 1749 00da FFF7FEFF 		bl	HAL_Delay
 1750              	.LVL214:
 1751              	.LBE6:
 161:Core/Src/main.c ****   {
 1752              		.loc 1 161 9 view .LVU445
 1753 00de B9E7     		b	.L36
 1754              	.L39:
 1755              		.align	2
 1756              	.L38:
 1757 00e0 8FC2F53C 		.word	1022739087
 1758 00e4 A69B443B 		.word	994352038
 1759 00e8 6F12833A 		.word	981668463
 1760 00ec 00000000 		.word	rollKalman
 1761 00f0 00000000 		.word	pitchKalman
 1762 00f4 00000000 		.word	yawKalman
 1763 00f8 00000000 		.word	q
 1764 00fc 00000000 		.word	DWT_CNT
 1765 0100 00000000 		.word	dt
 1766 0104 00000000 		.word	MPU6050_Data
 1767 0108 00000343 		.word	1124270080
 1768 010c 00000000 		.word	filtered_roll
 1769 0110 00000000 		.word	filtered_pitch
 1770 0114 00000000 		.word	raw_yaw
 1771 0118 00000000 		.word	filtered_yaw
 1772 011c 00000000 		.word	roll
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 43


 1773 0120 00000000 		.word	pitch
 1774 0124 00000000 		.word	yaw
 1775              		.cfi_endproc
 1776              	.LFE65:
 1778              		.global	filtered_yaw
 1779              		.section	.bss.filtered_yaw,"aw",%nobits
 1780              		.align	2
 1783              	filtered_yaw:
 1784 0000 00000000 		.space	4
 1785              		.global	filtered_pitch
 1786              		.section	.bss.filtered_pitch,"aw",%nobits
 1787              		.align	2
 1790              	filtered_pitch:
 1791 0000 00000000 		.space	4
 1792              		.global	filtered_roll
 1793              		.section	.bss.filtered_roll,"aw",%nobits
 1794              		.align	2
 1797              	filtered_roll:
 1798 0000 00000000 		.space	4
 1799              		.global	raw_yaw
 1800              		.section	.bss.raw_yaw,"aw",%nobits
 1801              		.align	2
 1804              	raw_yaw:
 1805 0000 00000000 		.space	4
 1806              		.global	raw_pitch
 1807              		.section	.bss.raw_pitch,"aw",%nobits
 1808              		.align	2
 1811              	raw_pitch:
 1812 0000 00000000 		.space	4
 1813              		.global	raw_roll
 1814              		.section	.bss.raw_roll,"aw",%nobits
 1815              		.align	2
 1818              	raw_roll:
 1819 0000 00000000 		.space	4
 1820              		.global	yaw
 1821              		.section	.bss.yaw,"aw",%nobits
 1822              		.align	2
 1825              	yaw:
 1826 0000 00000000 		.space	4
 1827              		.global	pitch
 1828              		.section	.bss.pitch,"aw",%nobits
 1829              		.align	2
 1832              	pitch:
 1833 0000 00000000 		.space	4
 1834              		.global	roll
 1835              		.section	.bss.roll,"aw",%nobits
 1836              		.align	2
 1839              	roll:
 1840 0000 00000000 		.space	4
 1841              		.global	dt
 1842              		.section	.bss.dt,"aw",%nobits
 1843              		.align	2
 1846              	dt:
 1847 0000 00000000 		.space	4
 1848              		.global	DWT_CNT
 1849              		.section	.bss.DWT_CNT,"aw",%nobits
 1850              		.align	2
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 44


 1853              	DWT_CNT:
 1854 0000 00000000 		.space	4
 1855              		.global	q
 1856              		.section	.bss.q,"aw",%nobits
 1857              		.align	2
 1860              	q:
 1861 0000 00000000 		.space	16
 1861      00000000 
 1861      00000000 
 1861      00000000 
 1862              		.global	pitchKalman
 1863              		.section	.bss.pitchKalman,"aw",%nobits
 1864              		.align	2
 1867              	pitchKalman:
 1868 0000 00000000 		.space	36
 1868      00000000 
 1868      00000000 
 1868      00000000 
 1868      00000000 
 1869              		.global	yawKalman
 1870              		.section	.bss.yawKalman,"aw",%nobits
 1871              		.align	2
 1874              	yawKalman:
 1875 0000 00000000 		.space	36
 1875      00000000 
 1875      00000000 
 1875      00000000 
 1875      00000000 
 1876              		.global	rollKalman
 1877              		.section	.bss.rollKalman,"aw",%nobits
 1878              		.align	2
 1881              	rollKalman:
 1882 0000 00000000 		.space	36
 1882      00000000 
 1882      00000000 
 1882      00000000 
 1882      00000000 
 1883              		.global	MPU6050_Data
 1884              		.section	.bss.MPU6050_Data,"aw",%nobits
 1885              		.align	2
 1888              	MPU6050_Data:
 1889 0000 00000000 		.space	20
 1889      00000000 
 1889      00000000 
 1889      00000000 
 1889      00000000 
 1890              		.text
 1891              	.Letext0:
 1892              		.file 3 "D:/msys64/mingw64/arm-none-eabi/include/machine/_default_types.h"
 1893              		.file 4 "D:/msys64/mingw64/arm-none-eabi/include/sys/_stdint.h"
 1894              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 1895              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1896              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 1897              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 1898              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1899              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 1900              		.file 11 "Core/Inc/i2c.h"
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 45


 1901              		.file 12 "D:/msys64/mingw64/arm-none-eabi/include/math.h"
 1902              		.file 13 "Bsp/bsp_dwt.h"
 1903              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1904              		.file 15 "Core/Inc/gpio.h"
 1905              		.file 16 "<built-in>"
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 46


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:19     .text.MPU6050_read_data:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:25     .text.MPU6050_read_data:00000000 MPU6050_read_data
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:141    .text.MPU6050_read_data:000000a0 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1888   .bss.MPU6050_Data:00000000 MPU6050_Data
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:147    .text.MPU6050_Init:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:153    .text.MPU6050_Init:00000000 MPU6050_Init
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:252    .text.MPU6050_Init:00000080 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:262    .text.InitQuaternion:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:268    .text.InitQuaternion:00000000 InitQuaternion
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:386    .text.multiplyQuaternions:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:392    .text.multiplyQuaternions:00000000 multiplyQuaternions
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:621    .text.updateQuaternion:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:627    .text.updateQuaternion:00000000 updateQuaternion
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:746    .text.calculateAngles:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:752    .text.calculateAngles:00000000 calculateAngles
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:957    .text.kalmanInit:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:963    .text.kalmanInit:00000000 kalmanInit
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1010   .text.kalmanUpdate:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1016   .text.kalmanUpdate:00000000 kalmanUpdate
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1265   .text.calculateAccelAngles:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1271   .text.calculateAccelAngles:00000000 calculateAccelAngles
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1403   .text.calculateAccelAngles:000000b0 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1411   .text.Error_Handler:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1417   .text.Error_Handler:00000000 Error_Handler
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1449   .text.SystemClock_Config:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1455   .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1560   .text.main:00000000 $t
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1566   .text.main:00000000 main
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1757   .text.main:000000e0 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1881   .bss.rollKalman:00000000 rollKalman
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1867   .bss.pitchKalman:00000000 pitchKalman
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1874   .bss.yawKalman:00000000 yawKalman
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1860   .bss.q:00000000 q
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1853   .bss.DWT_CNT:00000000 DWT_CNT
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1846   .bss.dt:00000000 dt
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1797   .bss.filtered_roll:00000000 filtered_roll
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1790   .bss.filtered_pitch:00000000 filtered_pitch
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1804   .bss.raw_yaw:00000000 raw_yaw
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1783   .bss.filtered_yaw:00000000 filtered_yaw
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1839   .bss.roll:00000000 roll
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1832   .bss.pitch:00000000 pitch
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1825   .bss.yaw:00000000 yaw
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1780   .bss.filtered_yaw:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1787   .bss.filtered_pitch:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1794   .bss.filtered_roll:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1801   .bss.raw_yaw:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1811   .bss.raw_pitch:00000000 raw_pitch
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1808   .bss.raw_pitch:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1818   .bss.raw_roll:00000000 raw_roll
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1815   .bss.raw_roll:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1822   .bss.yaw:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1829   .bss.pitch:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1836   .bss.roll:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1843   .bss.dt:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1850   .bss.DWT_CNT:00000000 $d
ARM GAS  C:\Users\·\AppData\Local\Temp\ccbk0PaD.s 			page 47


C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1857   .bss.q:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1864   .bss.pitchKalman:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1871   .bss.yawKalman:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1878   .bss.rollKalman:00000000 $d
C:\Users\·\AppData\Local\Temp\ccbk0PaD.s:1885   .bss.MPU6050_Data:00000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Mem_Read
hi2c1
HAL_I2C_Mem_Write
__aeabi_fmul
__aeabi_fadd
__aeabi_f2d
__aeabi_d2f
__aeabi_fdiv
sqrt
__aeabi_fsub
__aeabi_i2f
atan2
asin
__aeabi_ddiv
atan2f
sqrtf
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
MX_GPIO_Init
MX_I2C1_Init
DWT_Init
DWT_GetDeltaT
HAL_Delay
